{
  "info": {
    "name": "TPI Backend - Sistema de Logística",
    "description": "Colección completa para demostración del sistema de microservicios TPI Backend. Incluye autenticación con Keycloak, gestión de flota (camiones, depósitos, tarifas) y operaciones (clientes, solicitudes, rutas, tramos).",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Collection-level pre-request script for token validation",
          "",
          "// Check if this is the authentication request itself",
          "const isAuthRequest = pm.request.url.toString().includes('/token') || ",
          "                      pm.request.url.toString().includes('keycloak');",
          "",
          "if (!isAuthRequest) {",
          "    // Verify that JWT token exists",
          "    const token = pm.environment.get('jwt_token');",
          "    ",
          "    if (!token || token === '') {",
          "        console.log('⚠️  No JWT token found in environment.');",
          "        console.log('📝 Please run the \"Get JWT Token\" request from the Authentication folder first.');",
          "    } else {",
          "        // Validate token format and expiration",
          "        try {",
          "            const tokenParts = token.split('.');",
          "            if (tokenParts.length !== 3) {",
          "                console.log('⚠️  Invalid JWT token format.');",
          "                pm.environment.set('jwt_token', '');",
          "            } else {",
          "                // Decode payload to check expiration",
          "                const payload = JSON.parse(atob(tokenParts[1]));",
          "                const expirationTime = payload.exp * 1000;",
          "                const currentTime = Date.now();",
          "                ",
          "                if (currentTime >= expirationTime) {",
          "                    console.log('⚠️  JWT token has expired.');",
          "                    console.log('📝 Please run the \"Get JWT Token\" request to refresh your token.');",
          "                    pm.environment.set('jwt_token', '');",
          "                } else {",
          "                    const timeRemaining = Math.floor((expirationTime - currentTime) / 1000);",
          "                    console.log('✅ JWT token is valid. Expires in ' + timeRemaining + ' seconds.');",
          "                }",
          "            }",
          "        } catch (error) {",
          "            console.log('⚠️  Error validating JWT token: ' + error.message);",
          "            console.log('📝 Please run the \"Get JWT Token\" request to obtain a new token.');",
          "        }",
          "    }",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Collection-level test script for common error handling",
          "",
          "// Handle common HTTP error codes",
          "if (pm.response.code === 400) {",
          "    console.log('❌ Bad request (400 Bad Request)');",
          "    console.log('📝 The request contains invalid data or parameters.');",
          "    try {",
          "        const response = pm.response.json();",
          "        if (response.message) {",
          "            console.log('   Error details: ' + response.message);",
          "        }",
          "        if (response.errors) {",
          "            console.log('   Validation errors: ' + JSON.stringify(response.errors));",
          "        }",
          "    } catch (e) {",
          "        console.log('   Response: ' + pm.response.text());",
          "    }",
          "} else if (pm.response.code === 401) {",
          "    console.log('❌ Authentication failed (401 Unauthorized)');",
          "    console.log('📝 Your token may be expired or invalid. Please run \"Get JWT Token\" request.');",
          "} else if (pm.response.code === 403) {",
          "    console.log('❌ Access forbidden (403 Forbidden)');",
          "    console.log('📝 You may not have permission to access this resource.');",
          "} else if (pm.response.code === 404) {",
          "    console.log('⚠️  Resource not found (404 Not Found)');",
          "    try {",
          "        const response = pm.response.json();",
          "        if (response.message) {",
          "            console.log('   Details: ' + response.message);",
          "        }",
          "    } catch (e) {",
          "        // Response may not be JSON",
          "    }",
          "} else if (pm.response.code === 500) {",
          "    console.log('❌ Server error (500 Internal Server Error)');",
          "    console.log('📝 Check if all services are running properly.');",
          "    try {",
          "        const response = pm.response.json();",
          "        if (response.message) {",
          "            console.log('   Error: ' + response.message);",
          "        }",
          "    } catch (e) {",
          "        console.log('   Response: ' + pm.response.text());",
          "    }",
          "} else if (pm.response.code >= 200 && pm.response.code < 300) {",
          "    console.log('✅ Request successful (' + pm.response.code + ')');",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "🔐 Authentication",
      "item": [
        {
          "name": "Get JWT Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Test: Validate successful authentication",
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test: Validate response has access_token",
                  "pm.test('Response contains access_token', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('access_token');",
                  "    pm.expect(jsonData.access_token).to.be.a('string');",
                  "    pm.expect(jsonData.access_token.length).to.be.above(0);",
                  "});",
                  "",
                  "// Test: Validate token structure (JWT format)",
                  "pm.test('Token has valid JWT structure', function () {",
                  "    const jsonData = pm.response.json();",
                  "    const token = jsonData.access_token;",
                  "    ",
                  "    // JWT should have 3 parts separated by dots",
                  "    const tokenParts = token.split('.');",
                  "    pm.expect(tokenParts.length).to.equal(3);",
                  "    ",
                  "    // Each part should be base64 encoded",
                  "    pm.expect(tokenParts[0].length).to.be.above(0); // Header",
                  "    pm.expect(tokenParts[1].length).to.be.above(0); // Payload",
                  "    pm.expect(tokenParts[2].length).to.be.above(0); // Signature",
                  "});",
                  "",
                  "// Test: Validate token expiration",
                  "pm.test('Token has valid expiration time', function () {",
                  "    const jsonData = pm.response.json();",
                  "    const token = jsonData.access_token;",
                  "    ",
                  "    // Decode the payload",
                  "    const payload = JSON.parse(atob(token.split('.')[1]));",
                  "    ",
                  "    // Validate expiration fields exist",
                  "    pm.expect(payload).to.have.property('exp');",
                  "    pm.expect(payload).to.have.property('iat');",
                  "    ",
                  "    // Validate token is not expired",
                  "    const expirationTime = payload.exp * 1000;",
                  "    const currentTime = Date.now();",
                  "    pm.expect(expirationTime).to.be.above(currentTime);",
                  "    ",
                  "    // Calculate time remaining",
                  "    const timeRemaining = Math.floor((expirationTime - currentTime) / 1000);",
                  "    pm.expect(timeRemaining).to.be.above(0);",
                  "    ",
                  "    // Store expiration info for logging",
                  "    pm.environment.set('token_expires_in', timeRemaining);",
                  "});",
                  "",
                  "// Test: Validate response contains expected fields",
                  "pm.test('Response contains all expected fields', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('token_type');",
                  "    pm.expect(jsonData).to.have.property('expires_in');",
                  "    pm.expect(jsonData.token_type).to.equal('Bearer');",
                  "});",
                  "",
                  "// Save access_token to environment variable",
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    const token = jsonData.access_token;",
                  "    ",
                  "    // Save token to environment",
                  "    pm.environment.set('jwt_token', token);",
                  "    ",
                  "    // Decode payload for additional info",
                  "    const payload = JSON.parse(atob(token.split('.')[1]));",
                  "    const expirationTime = payload.exp * 1000;",
                  "    const currentTime = Date.now();",
                  "    const timeRemaining = Math.floor((expirationTime - currentTime) / 1000);",
                  "    const expiresInMinutes = Math.floor(timeRemaining / 60);",
                  "    ",
                  "    // Console logging for successful authentication",
                  "    console.log('');",
                  "    console.log('🎉 ============================================');",
                  "    console.log('✅ Authentication Successful!');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('📋 Token Details:');",
                  "    console.log('   • Token Type: ' + jsonData.token_type);",
                  "    console.log('   • Expires In: ' + expiresInMinutes + ' minutes (' + timeRemaining + ' seconds)');",
                  "    console.log('   • Issued At: ' + new Date(payload.iat * 1000).toLocaleString());",
                  "    console.log('   • Expires At: ' + new Date(expirationTime).toLocaleString());",
                  "    console.log('');",
                  "    console.log('👤 User Information:');",
                  "    if (payload.preferred_username) {",
                  "        console.log('   • Username: ' + payload.preferred_username);",
                  "    }",
                  "    if (payload.realm_access && payload.realm_access.roles) {",
                  "        console.log('   • Roles: ' + payload.realm_access.roles.join(', '));",
                  "    }",
                  "    if (payload.azp) {",
                  "        console.log('   • Client: ' + payload.azp);",
                  "    }",
                  "    console.log('');",
                  "    console.log('💾 Token saved to environment variable: jwt_token');",
                  "    console.log('');",
                  "    console.log('✨ You can now execute other requests in the collection!');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "} else {",
                  "    console.log('');",
                  "    console.log('❌ ============================================');",
                  "    console.log('Authentication Failed');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('Status Code: ' + pm.response.code);",
                  "    console.log('Response: ' + pm.response.text());",
                  "    console.log('');",
                  "    console.log('📝 Please check:');",
                  "    console.log('   • Keycloak is running on port 8180');",
                  "    console.log('   • Credentials are correct in environment');",
                  "    console.log('   • Realm and client configuration is correct');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "client_id",
                  "value": "{{keycloak_client_id}}",
                  "type": "text"
                },
                {
                  "key": "client_secret",
                  "value": "{{keycloak_client_secret}}",
                  "type": "text"
                },
                {
                  "key": "grant_type",
                  "value": "password",
                  "type": "text"
                },
                {
                  "key": "username",
                  "value": "{{admin_username}}",
                  "type": "text"
                },
                {
                  "key": "password",
                  "value": "{{admin_password}}",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{keycloak_url}}/realms/{{keycloak_realm}}/protocol/openid-connect/token",
              "host": [
                "{{keycloak_url}}"
              ],
              "path": [
                "realms",
                "{{keycloak_realm}}",
                "protocol",
                "openid-connect",
                "token"
              ]
            },
            "description": "Obtiene un JWT token de Keycloak usando el flujo de autenticación password grant. El token se guarda automáticamente en la variable de environment 'jwt_token' y se usa en todos los demás requests de la colección.\n\n**Credenciales:**\n- Client ID: tpi-api-gateway\n- Client Secret: tpi-gateway-secret-2024-secure\n- Username: admin\n- Password: admin123\n\n**Nota:** El token expira en 5 minutos (300 segundos). Si recibes errores 401 en otros requests, vuelve a ejecutar este request para obtener un nuevo token."
          },
          "response": []
        }
      ],
      "description": "Requests para autenticación con Keycloak. Obtén tu JWT token aquí antes de ejecutar otros requests."
    },
    {
      "name": "🏥 Health Checks",
      "item": [
        {
          "name": "Gateway Health",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Test: Validate successful response",
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test: Validate health status is UP",
                  "pm.test('Gateway status is UP', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData.status).to.equal('UP');",
                  "});",
                  "",
                  "// Console logging",
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    console.log('✅ API Gateway is healthy');",
                  "    console.log('   Status: ' + jsonData.status);",
                  "} else {",
                  "    console.log('❌ API Gateway health check failed');",
                  "    console.log('   Please verify the service is running on port 8080');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/actuator/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8080",
              "path": [
                "actuator",
                "health"
              ]
            },
            "description": "Verifica que el API Gateway está corriendo y saludable. Este endpoint no requiere autenticación."
          },
          "response": []
        }
      ],
      "description": "Endpoint de health check para verificar que el API Gateway está corriendo correctamente. El Gateway es el punto de entrada único al sistema y su health check valida que el sistema está operativo."
    },
    {
      "name": "🚛 Servicio Flota",
      "item": [
        {
          "name": "Camiones",
          "item": [
            {
              "name": "GET All Camiones",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate camion structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Camion has required fields', function () {",
                      "        const camion = pm.response.json()[0];",
                      "        pm.expect(camion).to.have.property('id');",
                      "        pm.expect(camion).to.have.property('dominio');",
                      "        pm.expect(camion).to.have.property('nombreTransportista');",
                      "        pm.expect(camion).to.have.property('capacidadPeso');",
                      "        pm.expect(camion).to.have.property('capacidadVolumen');",
                      "        pm.expect(camion).to.have.property('disponible');",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const camiones = pm.response.json();",
                      "    console.log('✅ Retrieved ' + camiones.length + ' camiones');",
                      "    if (camiones.length > 0) {",
                      "        console.log('   First camion: ' + camiones[0].dominio + ' - ' + camiones[0].nombreTransportista);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "camiones"
                  ]
                },
                "description": "Lista todos los camiones registrados en el sistema. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Camion by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate camion structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Camion has required fields', function () {",
                      "        const camion = pm.response.json();",
                      "        pm.expect(camion).to.have.property('id');",
                      "        pm.expect(camion).to.have.property('dominio');",
                      "        pm.expect(camion).to.have.property('nombreTransportista');",
                      "        pm.expect(camion).to.have.property('telefono');",
                      "        pm.expect(camion).to.have.property('capacidadPeso');",
                      "        pm.expect(camion).to.have.property('capacidadVolumen');",
                      "        pm.expect(camion).to.have.property('disponible');",
                      "        pm.expect(camion).to.have.property('consumoCombustiblePorKm');",
                      "        pm.expect(camion).to.have.property('costoPorKm');",
                      "    });",
                      "    ",
                      "    console.log('✅ Camion found: ' + pm.response.json().dominio);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Camion not found with ID: ' + pm.environment.get('camion_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones/{{camion_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "camiones",
                    "{{camion_id}}"
                  ]
                },
                "description": "Obtiene un camión específico por su ID. Usa la variable {{camion_id}} del environment."
              },
              "response": []
            },
            {
              "name": "GET Camiones Disponibles",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate all camiones are disponible",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('All camiones are disponible', function () {",
                      "        const camiones = pm.response.json();",
                      "        camiones.forEach(function(camion) {",
                      "            pm.expect(camion.disponible).to.be.true;",
                      "        });",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const camiones = pm.response.json();",
                      "    console.log('✅ Found ' + camiones.length + ' available camiones');",
                      "    camiones.forEach(function(camion) {",
                      "        console.log('   • ' + camion.dominio + ' - Peso: ' + camion.capacidadPeso + 'kg, Volumen: ' + camion.capacidadVolumen + 'm³');",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones/disponibles?pesoMinimo=10000&volumenMinimo=20",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "camiones",
                    "disponibles"
                  ],
                  "query": [
                    {
                      "key": "pesoMinimo",
                      "value": "10000",
                      "description": "Capacidad mínima de peso en kg (opcional)"
                    },
                    {
                      "key": "volumenMinimo",
                      "value": "20",
                      "description": "Capacidad mínima de volumen en m³ (opcional)"
                    }
                  ]
                },
                "description": "Lista camiones disponibles con filtros opcionales de capacidad mínima de peso y volumen. Los parámetros de query son opcionales."
              },
              "response": []
            },
            {
              "name": "POST Create Camion",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful creation",
                      "pm.test('Status code is 201', function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "// Test: Validate response has ID",
                      "pm.test('Response contains camion ID', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.expect(jsonData.id).to.be.a('number');",
                      "});",
                      "",
                      "// Test: Validate camion structure",
                      "pm.test('Camion has all required fields', function () {",
                      "    const camion = pm.response.json();",
                      "    pm.expect(camion).to.have.property('dominio');",
                      "    pm.expect(camion).to.have.property('nombreTransportista');",
                      "    pm.expect(camion).to.have.property('telefono');",
                      "    pm.expect(camion).to.have.property('capacidadPeso');",
                      "    pm.expect(camion).to.have.property('capacidadVolumen');",
                      "    pm.expect(camion).to.have.property('disponible');",
                      "    pm.expect(camion).to.have.property('consumoCombustiblePorKm');",
                      "    pm.expect(camion).to.have.property('costoPorKm');",
                      "});",
                      "",
                      "// Test: Validate camion is disponible by default",
                      "pm.test('New camion is disponible by default', function () {",
                      "    const camion = pm.response.json();",
                      "    pm.expect(camion.disponible).to.be.true;",
                      "});",
                      "",
                      "// Save camion_id to environment",
                      "if (pm.response.code === 201) {",
                      "    const camion = pm.response.json();",
                      "    pm.environment.set('camion_id', camion.id);",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Camion created successfully!');",
                      "    console.log('   ID: ' + camion.id);",
                      "    console.log('   Dominio: ' + camion.dominio);",
                      "    console.log('   Transportista: ' + camion.nombreTransportista);",
                      "    console.log('   Capacidad Peso: ' + camion.capacidadPeso + ' kg');",
                      "    console.log('   Capacidad Volumen: ' + camion.capacidadVolumen + ' m³');",
                      "    console.log('   Disponible: ' + camion.disponible);",
                      "    console.log('');",
                      "    console.log('💾 Camion ID saved to environment variable: camion_id');",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"dominio\": \"ABC{{$randomInt}}\",\n  \"nombreTransportista\": \"Transportista Demo Postman\",\n  \"telefono\": \"351-1234567\",\n  \"capacidadPeso\": 20000,\n  \"capacidadVolumen\": 40,\n  \"consumoCombustiblePorKm\": 0.35,\n  \"costoPorKm\": 5.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "camiones"
                  ]
                },
                "description": "Crea un nuevo camión en el sistema. El dominio debe ser único. El ID del camión creado se guarda automáticamente en la variable {{camion_id}}.\n\n**Campos requeridos:**\n- dominio: Patente única del camión\n- nombreTransportista: Nombre del transportista\n- telefono: Teléfono de contacto\n- capacidadPeso: Capacidad en kg\n- capacidadVolumen: Capacidad en m³\n- consumoCombustiblePorKm: Litros por km\n- costoPorKm: Costo por km en pesos"
              },
              "response": []
            },
            {
              "name": "PUT Update Camion",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful update or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate updated camion structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Updated camion has all fields', function () {",
                      "        const camion = pm.response.json();",
                      "        pm.expect(camion).to.have.property('id');",
                      "        pm.expect(camion).to.have.property('dominio');",
                      "        pm.expect(camion).to.have.property('nombreTransportista');",
                      "        pm.expect(camion).to.have.property('telefono');",
                      "    });",
                      "    ",
                      "    console.log('✅ Camion updated successfully');",
                      "    console.log('   ID: ' + pm.response.json().id);",
                      "    console.log('   Dominio: ' + pm.response.json().dominio);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Camion not found with ID: ' + pm.environment.get('camion_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombreTransportista\": \"Transportista Actualizado\",\n  \"telefono\": \"351-9876543\",\n  \"consumoCombustiblePorKm\": 0.32,\n  \"costoPorKm\": 5.5\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones/{{camion_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "camiones",
                    "{{camion_id}}"
                  ]
                },
                "description": "Actualiza los datos de un camión existente. Usa la variable {{camion_id}} del environment.\n\n**Campos opcionales (solo enviar los que se quieren actualizar):**\n- nombreTransportista\n- telefono\n- consumoCombustiblePorKm\n- costoPorKm\n\n**Nota:** El dominio y las capacidades no se pueden modificar."
              },
              "response": []
            },
            {
              "name": "DELETE Camion",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful deletion or not found",
                      "pm.test('Status code is 204 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([204, 404]);",
                      "});",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 204) {",
                      "    console.log('✅ Camion deleted successfully');",
                      "    console.log('   ID: ' + pm.environment.get('camion_id'));",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Camion not found with ID: ' + pm.environment.get('camion_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones/{{camion_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "camiones",
                    "{{camion_id}}"
                  ]
                },
                "description": "Elimina un camión del sistema. Usa la variable {{camion_id}} del environment.\n\n**Nota:** Solo se puede eliminar un camión si no tiene tramos asignados activos."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de camiones (CRUD completo). Incluye listado, consulta por ID, filtrado por disponibilidad, creación, actualización y eliminación."
        },
        {
          "name": "Depositos",
          "item": [
            {
              "name": "GET All Depositos",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate deposito structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Deposito has required fields', function () {",
                      "        const deposito = pm.response.json()[0];",
                      "        pm.expect(deposito).to.have.property('id');",
                      "        pm.expect(deposito).to.have.property('nombre');",
                      "        pm.expect(deposito).to.have.property('direccion');",
                      "        pm.expect(deposito).to.have.property('latitud');",
                      "        pm.expect(deposito).to.have.property('longitud');",
                      "        pm.expect(deposito).to.have.property('costoEstadiaDiaria');",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const depositos = pm.response.json();",
                      "    console.log('✅ Retrieved ' + depositos.length + ' depositos');",
                      "    if (depositos.length > 0) {",
                      "        console.log('   First deposito: ' + depositos[0].nombre + ' - ' + depositos[0].direccion);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "depositos"
                  ]
                },
                "description": "Lista todos los depósitos registrados en el sistema. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Deposito by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate deposito structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Deposito has required fields', function () {",
                      "        const deposito = pm.response.json();",
                      "        pm.expect(deposito).to.have.property('id');",
                      "        pm.expect(deposito).to.have.property('nombre');",
                      "        pm.expect(deposito).to.have.property('direccion');",
                      "        pm.expect(deposito).to.have.property('latitud');",
                      "        pm.expect(deposito).to.have.property('longitud');",
                      "        pm.expect(deposito).to.have.property('costoEstadiaDiaria');",
                      "    });",
                      "    ",
                      "    pm.test('Coordinates are valid', function () {",
                      "        const deposito = pm.response.json();",
                      "        pm.expect(deposito.latitud).to.be.within(-90, 90);",
                      "        pm.expect(deposito.longitud).to.be.within(-180, 180);",
                      "    });",
                      "    ",
                      "    console.log('✅ Deposito found: ' + pm.response.json().nombre);",
                      "    console.log('   Location: ' + pm.response.json().direccion);",
                      "    console.log('   Coordinates: (' + pm.response.json().latitud + ', ' + pm.response.json().longitud + ')');",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Deposito not found with ID: ' + pm.environment.get('deposito_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos/{{deposito_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "depositos",
                    "{{deposito_id}}"
                  ]
                },
                "description": "Obtiene un depósito específico por su ID. Usa la variable {{deposito_id}} del environment."
              },
              "response": []
            },
            {
              "name": "POST Create Deposito",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful creation",
                      "pm.test('Status code is 201', function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "// Test: Validate response has ID",
                      "pm.test('Response contains deposito ID', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.expect(jsonData.id).to.be.a('number');",
                      "});",
                      "",
                      "// Test: Validate deposito structure",
                      "pm.test('Deposito has all required fields', function () {",
                      "    const deposito = pm.response.json();",
                      "    pm.expect(deposito).to.have.property('nombre');",
                      "    pm.expect(deposito).to.have.property('direccion');",
                      "    pm.expect(deposito).to.have.property('latitud');",
                      "    pm.expect(deposito).to.have.property('longitud');",
                      "    pm.expect(deposito).to.have.property('costoEstadiaDiaria');",
                      "});",
                      "",
                      "// Test: Validate coordinates are within valid range",
                      "pm.test('Coordinates are valid', function () {",
                      "    const deposito = pm.response.json();",
                      "    pm.expect(deposito.latitud).to.be.within(-90, 90);",
                      "    pm.expect(deposito.longitud).to.be.within(-180, 180);",
                      "});",
                      "",
                      "// Save deposito_id to environment",
                      "if (pm.response.code === 201) {",
                      "    const deposito = pm.response.json();",
                      "    pm.environment.set('deposito_id', deposito.id);",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Deposito created successfully!');",
                      "    console.log('   ID: ' + deposito.id);",
                      "    console.log('   Nombre: ' + deposito.nombre);",
                      "    console.log('   Direccion: ' + deposito.direccion);",
                      "    console.log('   Coordinates: (' + deposito.latitud + ', ' + deposito.longitud + ')');",
                      "    console.log('   Costo Estadia: $' + deposito.costoEstadiaDiaria + '/día');",
                      "    console.log('');",
                      "    console.log('💾 Deposito ID saved to environment variable: deposito_id');",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Deposito Demo Postman\",\n  \"direccion\": \"Av. Circunvalación 1234, Córdoba\",\n  \"latitud\": -31.4201,\n  \"longitud\": -64.1888,\n  \"costoEstadiaDiaria\": 5000.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "depositos"
                  ]
                },
                "description": "Crea un nuevo depósito en el sistema. El ID del depósito creado se guarda automáticamente en la variable {{deposito_id}}.\n\n**Campos requeridos:**\n- nombre: Nombre del depósito\n- direccion: Dirección completa\n- latitud: Coordenada de latitud (-90 a 90)\n- longitud: Coordenada de longitud (-180 a 180)\n- costoEstadiaDiaria: Costo por día de estadía en pesos\n\n**Ejemplo de coordenadas:**\n- Córdoba: -31.4201, -64.1888\n- Buenos Aires: -34.6037, -58.3816\n- Rosario: -32.9442, -60.6505"
              },
              "response": []
            },
            {
              "name": "PUT Update Deposito",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful update or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate updated deposito structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Updated deposito has all fields', function () {",
                      "        const deposito = pm.response.json();",
                      "        pm.expect(deposito).to.have.property('id');",
                      "        pm.expect(deposito).to.have.property('nombre');",
                      "        pm.expect(deposito).to.have.property('direccion');",
                      "        pm.expect(deposito).to.have.property('costoEstadiaDiaria');",
                      "    });",
                      "    ",
                      "    console.log('✅ Deposito updated successfully');",
                      "    console.log('   ID: ' + pm.response.json().id);",
                      "    console.log('   Nombre: ' + pm.response.json().nombre);",
                      "    console.log('   Costo Estadia: $' + pm.response.json().costoEstadiaDiaria + '/día');",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Deposito not found with ID: ' + pm.environment.get('deposito_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Deposito Actualizado\",\n  \"direccion\": \"Nueva Dirección 5678, Córdoba\",\n  \"costoEstadiaDiaria\": 5500.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos/{{deposito_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "depositos",
                    "{{deposito_id}}"
                  ]
                },
                "description": "Actualiza los datos de un depósito existente. Usa la variable {{deposito_id}} del environment.\n\n**Campos opcionales (solo enviar los que se quieren actualizar):**\n- nombre\n- direccion\n- costoEstadiaDiaria\n\n**Nota:** Las coordenadas (latitud y longitud) no se pueden modificar una vez creado el depósito."
              },
              "response": []
            },
            {
              "name": "DELETE Deposito",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful deletion or not found",
                      "pm.test('Status code is 204 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([204, 404]);",
                      "});",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 204) {",
                      "    console.log('✅ Deposito deleted successfully');",
                      "    console.log('   ID: ' + pm.environment.get('deposito_id'));",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Deposito not found with ID: ' + pm.environment.get('deposito_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos/{{deposito_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "depositos",
                    "{{deposito_id}}"
                  ]
                },
                "description": "Elimina un depósito del sistema. Usa la variable {{deposito_id}} del environment.\n\n**Nota:** Solo se puede eliminar un depósito si no tiene tramos asignados activos."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de depósitos (CRUD completo). Incluye listado, consulta por ID, creación con coordenadas, actualización y eliminación."
        },
        {
          "name": "Tarifas",
          "item": [
            {
              "name": "GET Tarifa Actual",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate tarifa structure",
                      "pm.test('Tarifa actual has required fields', function () {",
                      "    const tarifa = pm.response.json();",
                      "    pm.expect(tarifa).to.have.property('id');",
                      "    pm.expect(tarifa).to.have.property('costoKmBase');",
                      "    pm.expect(tarifa).to.have.property('precioLitroCombustible');",
                      "    pm.expect(tarifa).to.have.property('cargoGestionPorTramo');",
                      "    pm.expect(tarifa).to.have.property('vigenciaDesde');",
                      "});",
                      "",
                      "// Test: Validate tarifa values are positive",
                      "pm.test('Tarifa values are positive', function () {",
                      "    const tarifa = pm.response.json();",
                      "    pm.expect(tarifa.costoKmBase).to.be.above(0);",
                      "    pm.expect(tarifa.precioLitroCombustible).to.be.above(0);",
                      "    pm.expect(tarifa.cargoGestionPorTramo).to.be.above(0);",
                      "});",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const tarifa = pm.response.json();",
                      "    console.log('✅ Tarifa actual retrieved');",
                      "    console.log('   ID: ' + tarifa.id);",
                      "    console.log('   Costo Km Base: $' + tarifa.costoKmBase);",
                      "    console.log('   Precio Litro Combustible: $' + tarifa.precioLitroCombustible);",
                      "    console.log('   Cargo Gestión por Tramo: $' + tarifa.cargoGestionPorTramo);",
                      "    console.log('   Vigencia Desde: ' + tarifa.vigenciaDesde);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas/actual",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "tarifas",
                    "actual"
                  ]
                },
                "description": "Obtiene la tarifa actualmente vigente en el sistema. Esta tarifa se usa para calcular los costos de los tramos."
              },
              "response": []
            },
            {
              "name": "GET All Tarifas",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate tarifa structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Tarifa has required fields', function () {",
                      "        const tarifa = pm.response.json()[0];",
                      "        pm.expect(tarifa).to.have.property('id');",
                      "        pm.expect(tarifa).to.have.property('costoKmBase');",
                      "        pm.expect(tarifa).to.have.property('precioLitroCombustible');",
                      "        pm.expect(tarifa).to.have.property('cargoGestionPorTramo');",
                      "        pm.expect(tarifa).to.have.property('vigenciaDesde');",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const tarifas = pm.response.json();",
                      "    console.log('✅ Retrieved ' + tarifas.length + ' tarifas');",
                      "    if (tarifas.length > 0) {",
                      "        console.log('   First tarifa: ID ' + tarifas[0].id + ' - Vigencia desde ' + tarifas[0].vigenciaDesde);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "tarifas"
                  ]
                },
                "description": "Lista todas las tarifas registradas en el sistema, incluyendo tarifas históricas y la actual. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Tarifa by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate tarifa structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Tarifa has required fields', function () {",
                      "        const tarifa = pm.response.json();",
                      "        pm.expect(tarifa).to.have.property('id');",
                      "        pm.expect(tarifa).to.have.property('costoKmBase');",
                      "        pm.expect(tarifa).to.have.property('precioLitroCombustible');",
                      "        pm.expect(tarifa).to.have.property('cargoGestionPorTramo');",
                      "        pm.expect(tarifa).to.have.property('vigenciaDesde');",
                      "    });",
                      "    ",
                      "    pm.test('Tarifa values are positive', function () {",
                      "        const tarifa = pm.response.json();",
                      "        pm.expect(tarifa.costoKmBase).to.be.above(0);",
                      "        pm.expect(tarifa.precioLitroCombustible).to.be.above(0);",
                      "        pm.expect(tarifa.cargoGestionPorTramo).to.be.above(0);",
                      "    });",
                      "    ",
                      "    console.log('✅ Tarifa found: ID ' + pm.response.json().id);",
                      "    console.log('   Costo Km Base: $' + pm.response.json().costoKmBase);",
                      "    console.log('   Precio Litro Combustible: $' + pm.response.json().precioLitroCombustible);",
                      "    console.log('   Cargo Gestión: $' + pm.response.json().cargoGestionPorTramo);",
                      "    console.log('   Vigencia Desde: ' + pm.response.json().vigenciaDesde);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tarifa not found with ID: ' + pm.environment.get('tarifa_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas/{{tarifa_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "tarifas",
                    "{{tarifa_id}}"
                  ]
                },
                "description": "Obtiene una tarifa específica por su ID. Usa la variable {{tarifa_id}} del environment."
              },
              "response": []
            },
            {
              "name": "POST Create Tarifa",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful creation",
                      "pm.test('Status code is 201', function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "// Test: Validate response has ID",
                      "pm.test('Response contains tarifa ID', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.expect(jsonData.id).to.be.a('number');",
                      "});",
                      "",
                      "// Test: Validate tarifa structure",
                      "pm.test('Tarifa has all required fields', function () {",
                      "    const tarifa = pm.response.json();",
                      "    pm.expect(tarifa).to.have.property('costoKmBase');",
                      "    pm.expect(tarifa).to.have.property('precioLitroCombustible');",
                      "    pm.expect(tarifa).to.have.property('cargoGestionPorTramo');",
                      "    pm.expect(tarifa).to.have.property('vigenciaDesde');",
                      "});",
                      "",
                      "// Test: Validate tarifa values are positive",
                      "pm.test('Tarifa values are positive', function () {",
                      "    const tarifa = pm.response.json();",
                      "    pm.expect(tarifa.costoKmBase).to.be.above(0);",
                      "    pm.expect(tarifa.precioLitroCombustible).to.be.above(0);",
                      "    pm.expect(tarifa.cargoGestionPorTramo).to.be.above(0);",
                      "});",
                      "",
                      "// Save tarifa_id to environment",
                      "if (pm.response.code === 201) {",
                      "    const tarifa = pm.response.json();",
                      "    pm.environment.set('tarifa_id', tarifa.id);",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Tarifa created successfully!');",
                      "    console.log('   ID: ' + tarifa.id);",
                      "    console.log('   Costo Km Base: $' + tarifa.costoKmBase);",
                      "    console.log('   Precio Litro Combustible: $' + tarifa.precioLitroCombustible);",
                      "    console.log('   Cargo Gestión por Tramo: $' + tarifa.cargoGestionPorTramo);",
                      "    console.log('   Vigencia Desde: ' + tarifa.vigenciaDesde);",
                      "    console.log('');",
                      "    console.log('💾 Tarifa ID saved to environment variable: tarifa_id');",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"costoKmBase\": 5.0,\n  \"precioLitroCombustible\": 850.0,\n  \"cargoGestionPorTramo\": 5000.0,\n  \"costoEstadiaDiaria\": 3000.0,\n  \"vigenciaDesde\": \"2020-01-01T00:00:00\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "tarifas"
                  ]
                },
                "description": "Crea una nueva tarifa en el sistema. El ID de la tarifa creada se guarda automáticamente en la variable {{tarifa_id}}.\n\n**Campos requeridos:**\n- costoKmBase: Costo base por kilómetro en pesos\n- precioLitroCombustible: Precio del litro de combustible en pesos\n- cargoGestionPorTramo: Cargo fijo de gestión por tramo en pesos\n- costoEstadiaDiaria: Costo de estadía diaria en depósito en pesos\n- vigenciaDesde: Fecha y hora desde la cual la tarifa es válida (formato ISO 8601)\n\n**Nota:** Solo puede haber una tarifa activa a la vez. Al crear una nueva tarifa con vigencia actual, se convierte en la tarifa activa."
              },
              "response": []
            },
            {
              "name": "PUT Update Tarifa",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful update or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate updated tarifa structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Updated tarifa has all fields', function () {",
                      "        const tarifa = pm.response.json();",
                      "        pm.expect(tarifa).to.have.property('id');",
                      "        pm.expect(tarifa).to.have.property('costoKmBase');",
                      "        pm.expect(tarifa).to.have.property('precioLitroCombustible');",
                      "        pm.expect(tarifa).to.have.property('cargoGestionPorTramo');",
                      "    });",
                      "    ",
                      "    console.log('✅ Tarifa updated successfully');",
                      "    console.log('   ID: ' + pm.response.json().id);",
                      "    console.log('   Costo Km Base: $' + pm.response.json().costoKmBase);",
                      "    console.log('   Precio Litro Combustible: $' + pm.response.json().precioLitroCombustible);",
                      "    console.log('   Cargo Gestión: $' + pm.response.json().cargoGestionPorTramo);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tarifa not found with ID: ' + pm.environment.get('tarifa_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"costoKmBase\": 5.5,\n  \"precioLitroCombustible\": 900.0,\n  \"cargoGestionPorTramo\": 5500.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas/{{tarifa_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "tarifas",
                    "{{tarifa_id}}"
                  ]
                },
                "description": "Actualiza los datos de una tarifa existente. Usa la variable {{tarifa_id}} del environment.\n\n**Campos opcionales (solo enviar los que se quieren actualizar):**\n- costoKmBase\n- precioLitroCombustible\n- cargoGestionPorTramo\n\n**Nota:** La fecha de vigencia no se puede modificar una vez creada la tarifa."
              },
              "response": []
            },
            {
              "name": "DELETE Tarifa",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful deletion or not found",
                      "pm.test('Status code is 204 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([204, 404]);",
                      "});",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 204) {",
                      "    console.log('✅ Tarifa deleted successfully');",
                      "    console.log('   ID: ' + pm.environment.get('tarifa_id'));",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tarifa not found with ID: ' + pm.environment.get('tarifa_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas/{{tarifa_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "flota", "tarifas",
                    "{{tarifa_id}}"
                  ]
                },
                "description": "Elimina una tarifa del sistema. Usa la variable {{tarifa_id}} del environment.\n\n**Nota:** No se puede eliminar la tarifa actualmente vigente si hay tramos que la están usando."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de tarifas (CRUD completo). Incluye consulta de tarifa actual, listado histórico, consulta por ID, creación, actualización y eliminación."
        }
      ],
      "description": "Endpoints del microservicio de Flota. Gestiona camiones, depósitos y tarifas."
    },
    {
      "name": "🚀 Servicio Operaciones",
      "item": [
        {
          "name": "Clientes",
          "item": [
            {
              "name": "GET All Clientes",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate cliente structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Cliente has required fields', function () {",
                      "        const cliente = pm.response.json()[0];",
                      "        pm.expect(cliente).to.have.property('id');",
                      "        pm.expect(cliente).to.have.property('nombre');",
                      "        pm.expect(cliente).to.have.property('direccion');",
                      "        pm.expect(cliente).to.have.property('cuit');",
                      "        pm.expect(cliente).to.have.property('telefono');",
                      "        pm.expect(cliente).to.have.property('email');",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const clientes = pm.response.json();",
                      "    console.log('✅ Retrieved ' + clientes.length + ' clientes');",
                      "    if (clientes.length > 0) {",
                      "        console.log('   First cliente: ' + clientes[0].nombre + ' - ' + clientes[0].email);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "clientes"
                  ]
                },
                "description": "Lista todos los clientes registrados en el sistema. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Cliente by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate cliente structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Cliente has required fields', function () {",
                      "        const cliente = pm.response.json();",
                      "        pm.expect(cliente).to.have.property('id');",
                      "        pm.expect(cliente).to.have.property('nombre');",
                      "        pm.expect(cliente).to.have.property('direccion');",
                      "        pm.expect(cliente).to.have.property('cuit');",
                      "        pm.expect(cliente).to.have.property('telefono');",
                      "        pm.expect(cliente).to.have.property('email');",
                      "    });",
                      "    ",
                      "    pm.test('Email format is valid', function () {",
                      "        const cliente = pm.response.json();",
                      "        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
                      "        pm.expect(emailRegex.test(cliente.email)).to.be.true;",
                      "    });",
                      "    ",
                      "    console.log('✅ Cliente found: ' + pm.response.json().nombre);",
                      "    console.log('   Email: ' + pm.response.json().email);",
                      "    console.log('   CUIT: ' + pm.response.json().cuit);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Cliente not found with ID: ' + pm.environment.get('cliente_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes/{{cliente_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "clientes",
                    "{{cliente_id}}"
                  ]
                },
                "description": "Obtiene un cliente específico por su ID. Usa la variable {{cliente_id}} del environment."
              },
              "response": []
            },
            {
              "name": "POST Create Cliente",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful creation",
                      "pm.test('Status code is 201', function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "// Test: Validate response has ID",
                      "pm.test('Response contains cliente ID', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.expect(jsonData.id).to.be.a('number');",
                      "});",
                      "",
                      "// Test: Validate cliente structure",
                      "pm.test('Cliente has all required fields', function () {",
                      "    const cliente = pm.response.json();",
                      "    pm.expect(cliente).to.have.property('nombre');",
                      "    pm.expect(cliente).to.have.property('direccion');",
                      "    pm.expect(cliente).to.have.property('cuit');",
                      "    pm.expect(cliente).to.have.property('telefono');",
                      "    pm.expect(cliente).to.have.property('email');",
                      "});",
                      "",
                      "// Test: Validate email format",
                      "pm.test('Email format is valid', function () {",
                      "    const cliente = pm.response.json();",
                      "    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
                      "    pm.expect(emailRegex.test(cliente.email)).to.be.true;",
                      "});",
                      "",
                      "// Test: Validate CUIT format (XX-XXXXXXXX-X)",
                      "pm.test('CUIT format is valid', function () {",
                      "    const cliente = pm.response.json();",
                      "    const cuitRegex = /^\\d{2}-\\d{8}-\\d{1}$/;",
                      "    pm.expect(cuitRegex.test(cliente.cuit)).to.be.true;",
                      "});",
                      "",
                      "// Save cliente_id to environment",
                      "if (pm.response.code === 201) {",
                      "    const cliente = pm.response.json();",
                      "    pm.environment.set('cliente_id', cliente.id);",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Cliente created successfully!');",
                      "    console.log('   ID: ' + cliente.id);",
                      "    console.log('   Nombre: ' + cliente.nombre);",
                      "    console.log('   Email: ' + cliente.email);",
                      "    console.log('   CUIT: ' + cliente.cuit);",
                      "    console.log('   Telefono: ' + cliente.telefono);",
                      "    console.log('   Direccion: ' + cliente.direccion);",
                      "    console.log('');",
                      "    console.log('💾 Cliente ID saved to environment variable: cliente_id');",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Cliente Demo Postman\",\n  \"direccion\": \"Av. Colón 123, Córdoba\",\n  \"cuit\": \"20-{{$randomInt}}-9\",\n  \"telefono\": \"351-1234567\",\n  \"email\": \"cliente{{$timestamp}}@postman.com\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "clientes"
                  ]
                },
                "description": "Crea un nuevo cliente en el sistema. El email y CUIT deben ser únicos. El ID del cliente creado se guarda automáticamente en la variable {{cliente_id}}.\n\n**Campos requeridos:**\n- nombre: Nombre completo o razón social\n- direccion: Dirección completa\n- cuit: CUIT en formato XX-XXXXXXXX-X (debe ser único)\n- telefono: Teléfono de contacto\n- email: Email válido (debe ser único)\n\n**Nota:** El body usa variables dinámicas de Postman ({{$timestamp}}, {{$randomInt}}) para generar emails y CUITs únicos en cada ejecución."
              },
              "response": []
            },
            {
              "name": "PUT Update Cliente",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful update or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate updated cliente structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Updated cliente has all fields', function () {",
                      "        const cliente = pm.response.json();",
                      "        pm.expect(cliente).to.have.property('id');",
                      "        pm.expect(cliente).to.have.property('nombre');",
                      "        pm.expect(cliente).to.have.property('direccion');",
                      "        pm.expect(cliente).to.have.property('telefono');",
                      "        pm.expect(cliente).to.have.property('email');",
                      "    });",
                      "    ",
                      "    pm.test('Email format is valid', function () {",
                      "        const cliente = pm.response.json();",
                      "        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
                      "        pm.expect(emailRegex.test(cliente.email)).to.be.true;",
                      "    });",
                      "    ",
                      "    console.log('✅ Cliente updated successfully');",
                      "    console.log('   ID: ' + pm.response.json().id);",
                      "    console.log('   Nombre: ' + pm.response.json().nombre);",
                      "    console.log('   Email: ' + pm.response.json().email);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Cliente not found with ID: ' + pm.environment.get('cliente_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Cliente Actualizado\",\n  \"direccion\": \"Nueva Dirección 456, Córdoba\",\n  \"telefono\": \"351-9876543\",\n  \"email\": \"cliente.actualizado@postman.com\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes/{{cliente_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "clientes",
                    "{{cliente_id}}"
                  ]
                },
                "description": "Actualiza los datos de un cliente existente. Usa la variable {{cliente_id}} del environment.\n\n**Campos opcionales (solo enviar los que se quieren actualizar):**\n- nombre\n- direccion\n- telefono\n- email (debe ser único si se cambia)\n\n**Nota:** El CUIT no se puede modificar una vez creado el cliente."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de clientes (CRUD). Incluye listado, consulta por ID, creación con validación de email único, y actualización."
        },
        {
          "name": "Contenedores",
          "item": [
            {
              "name": "GET All Contenedores",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate contenedor structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Contenedor has required fields', function () {",
                      "        const contenedor = pm.response.json()[0];",
                      "        pm.expect(contenedor).to.have.property('id');",
                      "        pm.expect(contenedor).to.have.property('numero');",
                      "        pm.expect(contenedor).to.have.property('tipo');",
                      "        pm.expect(contenedor).to.have.property('peso');",
                      "        pm.expect(contenedor).to.have.property('volumen');",
                      "        pm.expect(contenedor).to.have.property('estado');",
                      "        pm.expect(contenedor).to.have.property('direccionOrigen');",
                      "        pm.expect(contenedor).to.have.property('direccionDestino');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const contenedor = pm.response.json()[0];",
                      "        const validEstados = ['PENDIENTE', 'EN_TRANSITO', 'ENTREGADO'];",
                      "        pm.expect(validEstados).to.include(contenedor.estado);",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const contenedores = pm.response.json();",
                      "    console.log('✅ Retrieved ' + contenedores.length + ' contenedores');",
                      "    if (contenedores.length > 0) {",
                      "        console.log('   First contenedor: ' + contenedores[0].numero + ' - Estado: ' + contenedores[0].estado);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores?estado=PENDIENTE&tipo=STANDARD",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "contenedores"
                  ],
                  "query": [
                    {
                      "key": "estado",
                      "value": "PENDIENTE",
                      "description": "Filtrar por estado (PENDIENTE, EN_TRANSITO, ENTREGADO) - opcional",
                      "disabled": true
                    },
                    {
                      "key": "tipo",
                      "value": "STANDARD",
                      "description": "Filtrar por tipo de contenedor - opcional",
                      "disabled": true
                    }
                  ]
                },
                "description": "Lista todos los contenedores registrados en el sistema. Soporta filtros opcionales por estado y tipo. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Contenedor by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate contenedor structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Contenedor has required fields', function () {",
                      "        const contenedor = pm.response.json();",
                      "        pm.expect(contenedor).to.have.property('id');",
                      "        pm.expect(contenedor).to.have.property('numero');",
                      "        pm.expect(contenedor).to.have.property('tipo');",
                      "        pm.expect(contenedor).to.have.property('peso');",
                      "        pm.expect(contenedor).to.have.property('volumen');",
                      "        pm.expect(contenedor).to.have.property('estado');",
                      "        pm.expect(contenedor).to.have.property('direccionOrigen');",
                      "        pm.expect(contenedor).to.have.property('latitudOrigen');",
                      "        pm.expect(contenedor).to.have.property('longitudOrigen');",
                      "        pm.expect(contenedor).to.have.property('direccionDestino');",
                      "        pm.expect(contenedor).to.have.property('latitudDestino');",
                      "        pm.expect(contenedor).to.have.property('longitudDestino');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const contenedor = pm.response.json();",
                      "        const validEstados = ['PENDIENTE', 'EN_TRANSITO', 'ENTREGADO'];",
                      "        pm.expect(validEstados).to.include(contenedor.estado);",
                      "    });",
                      "    ",
                      "    pm.test('Coordinates are valid', function () {",
                      "        const contenedor = pm.response.json();",
                      "        pm.expect(contenedor.latitudOrigen).to.be.within(-90, 90);",
                      "        pm.expect(contenedor.longitudOrigen).to.be.within(-180, 180);",
                      "        pm.expect(contenedor.latitudDestino).to.be.within(-90, 90);",
                      "        pm.expect(contenedor.longitudDestino).to.be.within(-180, 180);",
                      "    });",
                      "    ",
                      "    console.log('✅ Contenedor found: ' + pm.response.json().numero);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    console.log('   Tipo: ' + pm.response.json().tipo);",
                      "    console.log('   Peso: ' + pm.response.json().peso + ' kg');",
                      "    console.log('   Volumen: ' + pm.response.json().volumen + ' m³');",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Contenedor not found with ID: ' + pm.environment.get('contenedor_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/{{contenedor_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "contenedores",
                    "{{contenedor_id}}"
                  ]
                },
                "description": "Obtiene un contenedor específico por su ID. Usa la variable {{contenedor_id}} del environment. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Contenedor Estado (RF#2)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate estado response structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Response contains estado information', function () {",
                      "        const response = pm.response.json();",
                      "        pm.expect(response).to.have.property('estado');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const response = pm.response.json();",
                      "        const validEstados = ['PENDIENTE', 'EN_TRANSITO', 'ENTREGADO'];",
                      "        pm.expect(validEstados).to.include(response.estado);",
                      "    });",
                      "    ",
                      "    console.log('✅ Contenedor estado retrieved');",
                      "    console.log('   ID: ' + pm.environment.get('contenedor_id'));",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Contenedor not found with ID: ' + pm.environment.get('contenedor_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/{{contenedor_id}}/estado",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "contenedores",
                    "{{contenedor_id}}",
                    "estado"
                  ]
                },
                "description": "Obtiene el estado actual de un contenedor específico (RF#2 - Consultar estado de contenedor). Estados posibles: PENDIENTE, EN_TRANSITO, ENTREGADO. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Contenedores Pendientes (RF#5)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate all contenedores are PENDIENTE",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('All contenedores have estado PENDIENTE', function () {",
                      "        const contenedores = pm.response.json();",
                      "        contenedores.forEach(function(contenedor) {",
                      "            pm.expect(contenedor.estado).to.equal('PENDIENTE');",
                      "        });",
                      "    });",
                      "    ",
                      "    pm.test('Contenedores have required fields', function () {",
                      "        const contenedor = pm.response.json()[0];",
                      "        pm.expect(contenedor).to.have.property('id');",
                      "        pm.expect(contenedor).to.have.property('numero');",
                      "        pm.expect(contenedor).to.have.property('tipo');",
                      "        pm.expect(contenedor).to.have.property('peso');",
                      "        pm.expect(contenedor).to.have.property('volumen');",
                      "        pm.expect(contenedor).to.have.property('estado');",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const contenedores = pm.response.json();",
                      "    console.log('');",
                      "    console.log('✅ Retrieved ' + contenedores.length + ' contenedores pendientes (RF#5)');",
                      "    console.log('');",
                      "    if (contenedores.length > 0) {",
                      "        console.log('📦 Contenedores Pendientes:');",
                      "        contenedores.forEach(function(contenedor, index) {",
                      "            console.log('   ' + (index + 1) + '. ' + contenedor.numero + ' - Tipo: ' + contenedor.tipo + ', Peso: ' + contenedor.peso + 'kg, Volumen: ' + contenedor.volumen + 'm³');",
                      "        });",
                      "        console.log('');",
                      "        ",
                      "        // Save first contenedor_id for testing",
                      "        pm.environment.set('contenedor_id', contenedores[0].id);",
                      "        console.log('💾 First contenedor ID saved to environment variable: contenedor_id');",
                      "    } else {",
                      "        console.log('   No hay contenedores pendientes en el sistema');",
                      "    }",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/pendientes",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "contenedores",
                    "pendientes"
                  ]
                },
                "description": "Lista todos los contenedores con estado PENDIENTE (RF#5 - Listar contenedores pendientes de asignación). Estos contenedores están esperando ser asignados a una solicitud de transporte. Requiere autenticación JWT."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de contenedores. Incluye listado con filtros, consulta por ID, consulta de estado (RF#2), y listado de contenedores pendientes (RF#5)."
        },
        {
          "name": "Solicitudes",
          "item": [
            {
              "name": "GET All Solicitudes",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate solicitud structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Solicitud has required fields', function () {",
                      "        const solicitud = pm.response.json()[0];",
                      "        pm.expect(solicitud).to.have.property('id');",
                      "        pm.expect(solicitud).to.have.property('numero');",
                      "        pm.expect(solicitud).to.have.property('estado');",
                      "        pm.expect(solicitud).to.have.property('clienteId');",
                      "        pm.expect(solicitud).to.have.property('contenedorId');",
                      "        pm.expect(solicitud).to.have.property('fechaCreacion');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const solicitud = pm.response.json()[0];",
                      "        const validEstados = ['BORRADOR', 'CONFIRMADA', 'EN_CURSO', 'FINALIZADA', 'CANCELADA'];",
                      "        pm.expect(validEstados).to.include(solicitud.estado);",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const solicitudes = pm.response.json();",
                      "    console.log('✅ Retrieved ' + solicitudes.length + ' solicitudes');",
                      "    if (solicitudes.length > 0) {",
                      "        console.log('   First solicitud: ' + solicitudes[0].numero + ' - Estado: ' + solicitudes[0].estado);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes?estado=BORRADOR&clienteId={{cliente_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes"
                  ],
                  "query": [
                    {
                      "key": "estado",
                      "value": "BORRADOR",
                      "description": "Filtrar por estado (BORRADOR, CONFIRMADA, EN_CURSO, FINALIZADA, CANCELADA) - opcional",
                      "disabled": true
                    },
                    {
                      "key": "clienteId",
                      "value": "{{cliente_id}}",
                      "description": "Filtrar por ID de cliente - opcional",
                      "disabled": true
                    }
                  ]
                },
                "description": "Lista todas las solicitudes de transporte registradas en el sistema. Soporta filtros opcionales por estado y clienteId. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Solicitud by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate solicitud structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Solicitud has required fields', function () {",
                      "        const solicitud = pm.response.json();",
                      "        pm.expect(solicitud).to.have.property('id');",
                      "        pm.expect(solicitud).to.have.property('numero');",
                      "        pm.expect(solicitud).to.have.property('estado');",
                      "        pm.expect(solicitud).to.have.property('clienteId');",
                      "        pm.expect(solicitud).to.have.property('contenedorId');",
                      "        pm.expect(solicitud).to.have.property('fechaCreacion');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const solicitud = pm.response.json();",
                      "        const validEstados = ['BORRADOR', 'CONFIRMADA', 'EN_CURSO', 'FINALIZADA', 'CANCELADA'];",
                      "        pm.expect(validEstados).to.include(solicitud.estado);",
                      "    });",
                      "    ",
                      "    console.log('✅ Solicitud found: ' + pm.response.json().numero);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    console.log('   Cliente ID: ' + pm.response.json().clienteId);",
                      "    console.log('   Contenedor ID: ' + pm.response.json().contenedorId);",
                      "    ",
                      "    if (pm.response.json().costoTotal) {",
                      "        console.log('   Costo Total: $' + pm.response.json().costoTotal);",
                      "    }",
                      "    if (pm.response.json().tiempoTotalHoras) {",
                      "        console.log('   Tiempo Total: ' + pm.response.json().tiempoTotalHoras + ' horas');",
                      "    }",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Solicitud not found with ID: ' + pm.environment.get('solicitud_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes",
                    "{{solicitud_id}}"
                  ]
                },
                "description": "Obtiene una solicitud específica por su ID. Usa la variable {{solicitud_id}} del environment. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Solicitud Estado (RF#2)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate estado response structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Response contains estado information', function () {",
                      "        const response = pm.response.json();",
                      "        pm.expect(response).to.have.property('estado');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const response = pm.response.json();",
                      "        const validEstados = ['BORRADOR', 'CONFIRMADA', 'EN_CURSO', 'FINALIZADA', 'CANCELADA'];",
                      "        pm.expect(validEstados).to.include(response.estado);",
                      "    });",
                      "    ",
                      "    console.log('✅ Solicitud estado retrieved (RF#2)');",
                      "    console.log('   ID: ' + pm.environment.get('solicitud_id'));",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Solicitud not found with ID: ' + pm.environment.get('solicitud_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/estado",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes",
                    "{{solicitud_id}}",
                    "estado"
                  ]
                },
                "description": "Obtiene el estado actual de una solicitud específica (RF#2 - Consultar estado de solicitud). Estados posibles: BORRADOR, CONFIRMADA, EN_CURSO, FINALIZADA, CANCELADA. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "POST Create Solicitud (RF#1)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful creation",
                      "pm.test('Status code is 201', function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "// Test: Validate response has ID",
                      "pm.test('Response contains solicitud ID', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.expect(jsonData.id).to.be.a('number');",
                      "});",
                      "",
                      "// Test: Validate solicitud structure",
                      "pm.test('Solicitud has all required fields', function () {",
                      "    const solicitud = pm.response.json();",
                      "    pm.expect(solicitud).to.have.property('numero');",
                      "    pm.expect(solicitud).to.have.property('estado');",
                      "    pm.expect(solicitud).to.have.property('clienteId');",
                      "    pm.expect(solicitud).to.have.property('contenedorId');",
                      "    pm.expect(solicitud).to.have.property('fechaCreacion');",
                      "});",
                      "",
                      "// Test: Validate initial estado is BORRADOR",
                      "pm.test('New solicitud has estado BORRADOR', function () {",
                      "    const solicitud = pm.response.json();",
                      "    pm.expect(solicitud.estado).to.equal('BORRADOR');",
                      "});",
                      "",
                      "// Test: Validate contenedor was created",
                      "pm.test('Contenedor was created with solicitud', function () {",
                      "    const solicitud = pm.response.json();",
                      "    pm.expect(solicitud.contenedorId).to.be.a('number');",
                      "    pm.expect(solicitud.contenedorId).to.be.above(0);",
                      "});",
                      "",
                      "// Save solicitud_id and contenedor_id to environment",
                      "if (pm.response.code === 201) {",
                      "    const solicitud = pm.response.json();",
                      "    pm.environment.set('solicitud_id', solicitud.id);",
                      "    pm.environment.set('contenedor_id', solicitud.contenedorId);",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Solicitud created successfully! (RF#1)');",
                      "    console.log('   ID: ' + solicitud.id);",
                      "    console.log('   Numero: ' + solicitud.numero);",
                      "    console.log('   Estado: ' + solicitud.estado);",
                      "    console.log('   Cliente ID: ' + solicitud.clienteId);",
                      "    console.log('   Contenedor ID: ' + solicitud.contenedorId);",
                      "    console.log('   Fecha Creación: ' + solicitud.fechaCreacion);",
                      "    ",
                      "    if (solicitud.observaciones) {",
                      "        console.log('   Observaciones: ' + solicitud.observaciones);",
                      "    }",
                      "    ",
                      "    console.log('');",
                      "    console.log('💾 Solicitud ID saved to environment variable: solicitud_id');",
                      "    console.log('💾 Contenedor ID saved to environment variable: contenedor_id');",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"contenedor\": {\n    \"numero\": \"CONT-{{$timestamp}}\",\n    \"tipo\": \"STANDARD\",\n    \"peso\": 15000,\n    \"volumen\": 30,\n    \"clienteId\": {{cliente_id}},\n    \"estado\": \"DISPONIBLE\"\n  },\n  \"clienteId\": {{cliente_id}},\n  \"direccionOrigen\": \"Córdoba, Argentina\",\n  \"latitudOrigen\": -31.4201,\n  \"longitudOrigen\": -64.1888,\n  \"direccionDestino\": \"Buenos Aires, Argentina\",\n  \"latitudDestino\": -34.6037,\n  \"longitudDestino\": -58.3816,\n  \"observaciones\": \"Solicitud de prueba desde Postman - RF#1\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes"
                  ]
                },
                "description": "Crea una nueva solicitud de transporte con un contenedor anidado (RF#1 - Registrar solicitud de transporte). El contenedor se crea automáticamente junto con la solicitud. Los IDs de la solicitud y el contenedor se guardan automáticamente en las variables {{solicitud_id}} y {{contenedor_id}}.\n\n**Campos requeridos:**\n- contenedor: Objeto con datos del contenedor\n  - numero: Número único del contenedor\n  - tipo: Tipo de contenedor (STANDARD, REFRIGERADO, etc.)\n  - peso: Peso en kg\n  - volumen: Volumen en m³\n  - clienteId: ID del cliente propietario del contenedor\n  - estado: Estado inicial del contenedor (DISPONIBLE)\n- clienteId: ID del cliente que solicita el transporte\n- direccionOrigen: Dirección de origen del transporte\n- latitudOrigen: Coordenada de latitud origen\n- longitudOrigen: Coordenada de longitud origen\n- direccionDestino: Dirección de destino del transporte\n- latitudDestino: Coordenada de latitud destino\n- longitudDestino: Coordenada de longitud destino\n- observaciones: Observaciones adicionales (opcional)\n\n**Nota:** La solicitud se crea en estado BORRADOR. El body usa {{$timestamp}} para generar números de contenedor únicos."
              },
              "response": []
            },
            {
              "name": "PATCH Finalizar Solicitud (RF#9)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful finalization or error",
                      "pm.test('Status code is 200 or 400 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "// Test: Validate finalized solicitud structure",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Solicitud was finalized successfully', function () {",
                      "        const solicitud = pm.response.json();",
                      "        pm.expect(solicitud).to.have.property('estado');",
                      "        pm.expect(solicitud.estado).to.equal('FINALIZADA');",
                      "    });",
                      "    ",
                      "    pm.test('Solicitud has calculated costs and times', function () {",
                      "        const solicitud = pm.response.json();",
                      "        pm.expect(solicitud).to.have.property('costoTotal');",
                      "        pm.expect(solicitud).to.have.property('tiempoTotalHoras');",
                      "        pm.expect(solicitud.costoTotal).to.be.above(0);",
                      "        pm.expect(solicitud.tiempoTotalHoras).to.be.above(0);",
                      "    });",
                      "    ",
                      "    pm.test('Solicitud has finalization date', function () {",
                      "        const solicitud = pm.response.json();",
                      "        pm.expect(solicitud).to.have.property('fechaFinalizacion');",
                      "        pm.expect(solicitud.fechaFinalizacion).to.not.be.null;",
                      "    });",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Solicitud finalized successfully! (RF#9)');",
                      "    console.log('   ID: ' + pm.response.json().id);",
                      "    console.log('   Numero: ' + pm.response.json().numero);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    console.log('   Costo Total: $' + pm.response.json().costoTotal);",
                      "    console.log('   Tiempo Total: ' + pm.response.json().tiempoTotalHoras + ' horas');",
                      "    console.log('   Fecha Finalizacion: ' + pm.response.json().fechaFinalizacion);",
                      "    console.log('');",
                      "} else if (pm.response.code === 400) {",
                      "    console.log('⚠️  Cannot finalize solicitud - validation error');",
                      "    console.log('   ' + pm.response.json().message);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Solicitud not found with ID: ' + pm.environment.get('solicitud_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/finalizar",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes",
                    "{{solicitud_id}}",
                    "finalizar"
                  ]
                },
                "description": "Finaliza una solicitud de transporte (RF#9 - Finalizar solicitud). Calcula el costo total y tiempo total basado en todos los tramos completados. Cambia el estado de la solicitud a FINALIZADA.\n\n**Requisitos previos:**\n- La solicitud debe estar en estado EN_CURSO\n- Todos los tramos de la ruta deben estar finalizados\n- Los costos de cada tramo deben estar calculados\n\n**Cálculos realizados:**\n- costoTotal: Suma de costos reales de todos los tramos\n- tiempoTotalHoras: Suma de tiempos reales de todos los tramos\n- fechaFinalizacion: Fecha y hora actual\n\n**Transición de estado:** EN_CURSO → FINALIZADA"
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de solicitudes de transporte. Incluye listado con filtros, consulta por ID, consulta de estado (RF#2), creación con contenedor anidado (RF#1), y finalización con cálculo de costos (RF#9)."
        },
        {
          "name": "Rutas",
          "item": [
            {
              "name": "GET Rutas Tentativas (RF#3 - Google Maps)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Response is an array of rutas tentativas', function () {",
                      "        const jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.be.an('array');",
                      "        pm.expect(jsonData.length).to.be.above(0);",
                      "    });",
                      "    ",
                      "    pm.test('Rutas tentativas have required fields', function () {",
                      "        const ruta = pm.response.json()[0];",
                      "        pm.expect(ruta).to.have.property('tramos');",
                      "        pm.expect(ruta).to.have.property('distanciaTotal');",
                      "        pm.expect(ruta).to.have.property('tiempoEstimadoTotal');",
                      "        pm.expect(ruta).to.have.property('costoEstimadoTotal');",
                      "        pm.expect(ruta).to.have.property('cantidadTramos');",
                      "        pm.expect(ruta).to.have.property('tipoRuta');",
                      "    });",
                      "    ",
                      "    pm.test('Distancia total is calculated by Google Maps', function () {",
                      "        const ruta = pm.response.json()[0];",
                      "        pm.expect(ruta.distanciaTotal).to.be.a('number');",
                      "        pm.expect(ruta.distanciaTotal).to.be.above(0);",
                      "    });",
                      "    ",
                      "    pm.test('Tiempo estimado total is calculated by Google Maps', function () {",
                      "        const ruta = pm.response.json()[0];",
                      "        pm.expect(ruta.tiempoEstimadoTotal).to.be.a('number');",
                      "        pm.expect(ruta.tiempoEstimadoTotal).to.be.above(0);",
                      "    });",
                      "    ",
                      "    pm.test('Each tramo has distance and time from Google Maps', function () {",
                      "        const ruta = pm.response.json()[0];",
                      "        pm.expect(ruta.tramos).to.be.an('array');",
                      "        pm.expect(ruta.tramos.length).to.be.above(0);",
                      "        ",
                      "        ruta.tramos.forEach(function(tramo) {",
                      "            pm.expect(tramo).to.have.property('distanciaKm');",
                      "            pm.expect(tramo).to.have.property('tiempoEstimadoHoras');",
                      "            pm.expect(tramo.distanciaKm).to.be.above(0);",
                      "            pm.expect(tramo.tiempoEstimadoHoras).to.be.above(0);",
                      "        });",
                      "    });",
                      "    ",
                      "    // Console logging for calculated distances",
                      "    const rutas = pm.response.json();",
                      "    console.log('');",
                      "    console.log('🌍 ============================================');",
                      "    console.log('✅ Rutas Tentativas Calculated (RF#3 - Google Maps)');",
                      "    console.log('============================================');",
                      "    console.log('');",
                      "    console.log('📊 Found ' + rutas.length + ' possible route(s)');",
                      "    console.log('');",
                      "    ",
                      "    rutas.forEach(function(ruta, index) {",
                      "        console.log('🛣️  Ruta ' + (index + 1) + ': ' + ruta.tipoRuta);",
                      "        console.log('   Descripción: ' + ruta.descripcion);",
                      "        console.log('   Cantidad de Tramos: ' + ruta.cantidadTramos);",
                      "        if (ruta.cantidadDepositos > 0) {",
                      "            console.log('   Depósitos Intermedios: ' + ruta.cantidadDepositos);",
                      "        }",
                      "        console.log('');",
                      "        console.log('   📏 Distancia Total: ' + ruta.distanciaTotal.toFixed(2) + ' km (Google Maps)');",
                      "        console.log('   ⏱️  Tiempo Estimado Total: ' + ruta.tiempoEstimadoTotal.toFixed(2) + ' horas (Google Maps)');",
                      "        console.log('   💰 Costo Estimado Total: $' + ruta.costoEstimadoTotal.toFixed(2));",
                      "        console.log('');",
                      "        console.log('   📍 Tramos:');",
                      "        ",
                      "        ruta.tramos.forEach(function(tramo) {",
                      "            console.log('      ' + tramo.orden + '. ' + tramo.tipo);",
                      "            console.log('         Inicio: (' + tramo.puntoInicio.latitud + ', ' + tramo.puntoInicio.longitud + ')');",
                      "            console.log('         Fin: (' + tramo.puntoFin.latitud + ', ' + tramo.puntoFin.longitud + ')');",
                      "            console.log('         Distancia: ' + tramo.distanciaKm.toFixed(2) + ' km (Google Maps)');",
                      "            console.log('         Tiempo: ' + tramo.tiempoEstimadoHoras.toFixed(2) + ' horas (Google Maps)');",
                      "            console.log('         Costo Aproximado: $' + tramo.costoAproximado.toFixed(2));",
                      "            if (tramo.observaciones) {",
                      "                console.log('         Observaciones: ' + tramo.observaciones);",
                      "            }",
                      "            console.log('');",
                      "        });",
                      "        ",
                      "        console.log('   ----------------------------------------');",
                      "        console.log('');",
                      "    });",
                      "    ",
                      "    console.log('✨ All distances and times calculated using Google Maps Distance Matrix API');",
                      "    console.log('============================================');",
                      "    console.log('');",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Solicitud not found with ID: ' + pm.environment.get('solicitud_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/rutas/tentativas",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes",
                    "{{solicitud_id}}",
                    "rutas",
                    "tentativas"
                  ]
                },
                "description": "Consulta rutas tentativas para una solicitud de transporte (RF#3 - Consultar rutas tentativas). Utiliza Google Maps Distance Matrix API para calcular distancias y tiempos reales entre puntos.\n\n**Funcionalidad:**\n- Calcula rutas posibles desde origen hasta destino del contenedor\n- Puede incluir rutas directas o con depósitos intermedios\n- Usa Google Maps API para obtener distancias y tiempos reales\n- Calcula costos aproximados basados en distancias\n\n**Respuesta incluye:**\n- Lista de rutas tentativas con diferentes opciones\n- Distancia total en km (calculada por Google Maps)\n- Tiempo estimado total en horas (calculado por Google Maps)\n- Costo estimado total\n- Desglose de tramos con distancias y tiempos individuales\n- Tipo de ruta (DIRECTA, CON_PARADAS)\n\n**Nota:** Este endpoint requiere que Google Maps API esté configurado correctamente en el servicio-operaciones. Las distancias y tiempos son cálculos reales, no estimaciones lineales."
              },
              "response": []
            },
            {
              "name": "POST Asignar Ruta (RF#4)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful creation",
                      "pm.test('Status code is 201', function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "// Test: Validate response has ID",
                      "pm.test('Response contains ruta ID', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.expect(jsonData.id).to.be.a('number');",
                      "});",
                      "",
                      "// Test: Validate ruta structure",
                      "pm.test('Ruta has all required fields', function () {",
                      "    const ruta = pm.response.json();",
                      "    pm.expect(ruta).to.have.property('solicitudId');",
                      "    pm.expect(ruta).to.have.property('cantidadTramos');",
                      "    pm.expect(ruta).to.have.property('distanciaTotal');",
                      "    pm.expect(ruta).to.have.property('tiempoEstimadoTotal');",
                      "    pm.expect(ruta).to.have.property('costoEstimado');",
                      "    pm.expect(ruta).to.have.property('tramos');",
                      "});",
                      "",
                      "// Test: Validate tramos were created",
                      "pm.test('Ruta has tramos created', function () {",
                      "    const ruta = pm.response.json();",
                      "    pm.expect(ruta.tramos).to.be.an('array');",
                      "    pm.expect(ruta.tramos.length).to.be.above(0);",
                      "    pm.expect(ruta.cantidadTramos).to.equal(ruta.tramos.length);",
                      "});",
                      "",
                      "// Test: Validate each tramo has required fields",
                      "pm.test('Each tramo has required fields', function () {",
                      "    const ruta = pm.response.json();",
                      "    ruta.tramos.forEach(function(tramo) {",
                      "        pm.expect(tramo).to.have.property('id');",
                      "        pm.expect(tramo).to.have.property('orden');",
                      "        pm.expect(tramo).to.have.property('tipo');",
                      "        pm.expect(tramo).to.have.property('estado');",
                      "        pm.expect(tramo).to.have.property('distanciaKm');",
                      "        pm.expect(tramo).to.have.property('tiempoEstimadoHoras');",
                      "        pm.expect(tramo.estado).to.equal('PENDIENTE');",
                      "    });",
                      "});",
                      "",
                      "// Save ruta_id and first tramo_id to environment",
                      "if (pm.response.code === 201) {",
                      "    const ruta = pm.response.json();",
                      "    pm.environment.set('ruta_id', ruta.id);",
                      "    ",
                      "    if (ruta.tramos && ruta.tramos.length > 0) {",
                      "        pm.environment.set('tramo_id', ruta.tramos[0].id);",
                      "    }",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Ruta assigned successfully! (RF#4)');",
                      "    console.log('   Ruta ID: ' + ruta.id);",
                      "    console.log('   Solicitud ID: ' + ruta.solicitudId);",
                      "    console.log('   Cantidad de Tramos: ' + ruta.cantidadTramos);",
                      "    console.log('   Cantidad de Depósitos: ' + ruta.cantidadDepositos);",
                      "    console.log('   Distancia Total: ' + ruta.distanciaTotal.toFixed(2) + ' km');",
                      "    console.log('   Tiempo Estimado Total: ' + ruta.tiempoEstimadoTotal.toFixed(2) + ' horas');",
                      "    console.log('   Costo Estimado: $' + ruta.costoEstimado.toFixed(2));",
                      "    console.log('');",
                      "    console.log('📍 Tramos creados:');",
                      "    ruta.tramos.forEach(function(tramo) {",
                      "        console.log('   ' + tramo.orden + '. ' + tramo.tipo + ' (ID: ' + tramo.id + ')');",
                      "        console.log('      Estado: ' + tramo.estado);",
                      "        console.log('      Distancia: ' + tramo.distanciaKm.toFixed(2) + ' km');",
                      "        console.log('      Tiempo Estimado: ' + tramo.tiempoEstimadoHoras.toFixed(2) + ' horas');",
                      "    });",
                      "    console.log('');",
                      "    console.log('💾 Ruta ID saved to environment variable: ruta_id');",
                      "    console.log('💾 First Tramo ID saved to environment variable: tramo_id');",
                      "    console.log('');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"tramos\": [\n    {\n      \"orden\": 1,\n      \"tipo\": \"ORIGEN-DESTINO\",\n      \"latitudInicio\": -31.4201,\n      \"longitudInicio\": -64.1888,\n      \"latitudFin\": -34.6037,\n      \"longitudFin\": -58.3816,\n      \"fechaEstimadaInicio\": \"2024-12-01T08:00:00\",\n      \"fechaEstimadaFin\": \"2024-12-01T18:00:00\"\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/asignar-ruta",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes",
                    "{{solicitud_id}}",
                    "asignar-ruta"
                  ]
                },
                "description": "Asigna una ruta con tramos a una solicitud de transporte (RF#4 - Asignar ruta). Crea la ruta y todos sus tramos en estado PENDIENTE.\n\n**Campos requeridos:**\n- tramos: Array de tramos ordenados\n  - orden: Número de orden del tramo (1, 2, 3...)\n  - tipo: Tipo de tramo (ORIGEN-DESTINO, ORIGEN-DEPOSITO, DEPOSITO-DEPOSITO, DEPOSITO-DESTINO)\n  - latitudInicio: Coordenada de latitud de inicio\n  - longitudInicio: Coordenada de longitud de inicio\n  - latitudFin: Coordenada de latitud de fin\n  - longitudFin: Coordenada de longitud de fin\n  - fechaEstimadaInicio: Fecha y hora estimada de inicio\n  - fechaEstimadaFin: Fecha y hora estimada de fin\n  - depositoOrigenId: ID del depósito origen (opcional, solo para tramos con depósito)\n  - depositoDestinoId: ID del depósito destino (opcional, solo para tramos con depósito)\n\n**Funcionalidad:**\n- Crea la ruta asociada a la solicitud\n- Crea todos los tramos en estado PENDIENTE\n- Calcula distancias y tiempos usando Google Maps API\n- Calcula costos estimados basados en distancias\n- Actualiza el estado de la solicitud a CONFIRMADA\n\n**Nota:** Los IDs de la ruta y el primer tramo se guardan automáticamente en las variables {{ruta_id}} y {{tramo_id}}."
              },
              "response": []
            },
            {
              "name": "GET Ruta by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate ruta structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Ruta has required fields', function () {",
                      "        const ruta = pm.response.json();",
                      "        pm.expect(ruta).to.have.property('id');",
                      "        pm.expect(ruta).to.have.property('solicitudId');",
                      "        pm.expect(ruta).to.have.property('cantidadTramos');",
                      "        pm.expect(ruta).to.have.property('cantidadDepositos');",
                      "        pm.expect(ruta).to.have.property('distanciaTotal');",
                      "        pm.expect(ruta).to.have.property('tiempoEstimadoTotal');",
                      "        pm.expect(ruta).to.have.property('costoEstimado');",
                      "        pm.expect(ruta).to.have.property('tramos');",
                      "    });",
                      "    ",
                      "    pm.test('Ruta has tramos array', function () {",
                      "        const ruta = pm.response.json();",
                      "        pm.expect(ruta.tramos).to.be.an('array');",
                      "        pm.expect(ruta.tramos.length).to.equal(ruta.cantidadTramos);",
                      "    });",
                      "    ",
                      "    pm.test('Distancia and tiempo are positive numbers', function () {",
                      "        const ruta = pm.response.json();",
                      "        pm.expect(ruta.distanciaTotal).to.be.above(0);",
                      "        pm.expect(ruta.tiempoEstimadoTotal).to.be.above(0);",
                      "    });",
                      "    ",
                      "    console.log('✅ Ruta found: ID ' + pm.response.json().id);",
                      "    console.log('   Solicitud ID: ' + pm.response.json().solicitudId);",
                      "    console.log('   Cantidad de Tramos: ' + pm.response.json().cantidadTramos);",
                      "    console.log('   Distancia Total: ' + pm.response.json().distanciaTotal.toFixed(2) + ' km');",
                      "    console.log('   Tiempo Estimado Total: ' + pm.response.json().tiempoEstimadoTotal.toFixed(2) + ' horas');",
                      "    console.log('   Costo Estimado: $' + pm.response.json().costoEstimado.toFixed(2));",
                      "    ",
                      "    const ruta = pm.response.json();",
                      "    if (ruta.tramos && ruta.tramos.length > 0) {",
                      "        console.log('');",
                      "        console.log('   Tramos:');",
                      "        ruta.tramos.forEach(function(tramo) {",
                      "            console.log('      ' + tramo.orden + '. ' + tramo.tipo + ' - Estado: ' + tramo.estado);",
                      "        });",
                      "    }",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Ruta not found with ID: ' + pm.environment.get('ruta_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/rutas/{{ruta_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "rutas",
                    "{{ruta_id}}"
                  ]
                },
                "description": "Obtiene una ruta específica por su ID. Usa la variable {{ruta_id}} del environment. Incluye todos los tramos asociados a la ruta con sus estados actuales.\n\n**Información incluida:**\n- Datos de la ruta (distancia total, tiempo estimado, costo)\n- Lista completa de tramos con sus estados\n- Referencias a depósitos intermedios si existen\n- Información de camiones asignados a cada tramo\n\nRequiere autenticación JWT."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de rutas. Incluye consulta de rutas tentativas con Google Maps (RF#3), asignación de ruta con tramos (RF#4), y consulta de ruta por ID."
        },
        {
          "name": "Tramos",
          "item": [
            {
              "name": "GET All Tramos",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response",
                      "pm.test('Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "pm.test('Response is an array', function () {",
                      "    const jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "});",
                      "",
                      "// Test: Validate tramo structure if array is not empty",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('Tramo has required fields', function () {",
                      "        const tramo = pm.response.json()[0];",
                      "        pm.expect(tramo).to.have.property('id');",
                      "        pm.expect(tramo).to.have.property('orden');",
                      "        pm.expect(tramo).to.have.property('tipo');",
                      "        pm.expect(tramo).to.have.property('estado');",
                      "        pm.expect(tramo).to.have.property('rutaId');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const tramo = pm.response.json()[0];",
                      "        const validEstados = ['PENDIENTE', 'ASIGNADO', 'EN_CURSO', 'FINALIZADO'];",
                      "        pm.expect(validEstados).to.include(tramo.estado);",
                      "    });",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const tramos = pm.response.json();",
                      "    console.log('✅ Retrieved ' + tramos.length + ' tramos');",
                      "    if (tramos.length > 0) {",
                      "        console.log('   First tramo: Orden ' + tramos[0].orden + ' - Estado: ' + tramos[0].estado);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos?rutaId={{ruta_id}}&estado=PENDIENTE",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos"
                  ],
                  "query": [
                    {
                      "key": "rutaId",
                      "value": "{{ruta_id}}",
                      "description": "Filtrar por ID de ruta - opcional",
                      "disabled": true
                    },
                    {
                      "key": "estado",
                      "value": "PENDIENTE",
                      "description": "Filtrar por estado (PENDIENTE, ASIGNADO, EN_CURSO, FINALIZADO) - opcional",
                      "disabled": true
                    }
                  ]
                },
                "description": "Lista todos los tramos registrados en el sistema. Soporta filtros opcionales por rutaId y estado. Los tramos son segmentos individuales de una ruta que pueden ser asignados a diferentes camiones. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Tramo by ID",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate tramo structure if found",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Tramo has required fields', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo).to.have.property('id');",
                      "        pm.expect(tramo).to.have.property('orden');",
                      "        pm.expect(tramo).to.have.property('tipo');",
                      "        pm.expect(tramo).to.have.property('estado');",
                      "        pm.expect(tramo).to.have.property('rutaId');",
                      "        pm.expect(tramo).to.have.property('latitudInicio');",
                      "        pm.expect(tramo).to.have.property('longitudInicio');",
                      "        pm.expect(tramo).to.have.property('latitudFin');",
                      "        pm.expect(tramo).to.have.property('longitudFin');",
                      "    });",
                      "    ",
                      "    pm.test('Estado field has valid value', function () {",
                      "        const tramo = pm.response.json();",
                      "        const validEstados = ['PENDIENTE', 'ASIGNADO', 'EN_CURSO', 'FINALIZADO'];",
                      "        pm.expect(validEstados).to.include(tramo.estado);",
                      "    });",
                      "    ",
                      "    console.log('✅ Tramo found');",
                      "    console.log('   ID: ' + pm.response.json().id);",
                      "    console.log('   Orden: ' + pm.response.json().orden);",
                      "    console.log('   Tipo: ' + pm.response.json().tipo);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    ",
                      "    if (pm.response.json().camionId) {",
                      "        console.log('   Camion ID: ' + pm.response.json().camionId);",
                      "    }",
                      "    if (pm.response.json().costoReal) {",
                      "        console.log('   Costo Real: $' + pm.response.json().costoReal);",
                      "    }",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tramo not found with ID: ' + pm.environment.get('tramo_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{tramo_id}}"
                  ]
                },
                "description": "Obtiene un tramo específico por su ID. Usa la variable {{tramo_id}} del environment. Incluye información completa del tramo incluyendo coordenadas, estado, camión asignado (si existe), y costos calculados. Requiere autenticación JWT."
              },
              "response": []
            },
            {
              "name": "GET Tramos por Camion (RF#7)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful response or not found",
                      "pm.test('Status code is 200 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                      "});",
                      "",
                      "// Test: Validate response is an array",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Response is an array', function () {",
                      "        const jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.be.an('array');",
                      "    });",
                      "    ",
                      "    // Test: Validate all tramos belong to the specified camion",
                      "    if (pm.response.json().length > 0) {",
                      "        pm.test('All tramos are assigned to the specified camion', function () {",
                      "            const tramos = pm.response.json();",
                      "            const camionId = parseInt(pm.environment.get('camion_id'));",
                      "            tramos.forEach(function(tramo) {",
                      "                pm.expect(tramo.camionId).to.equal(camionId);",
                      "            });",
                      "        });",
                      "        ",
                      "        pm.test('Tramos have required fields', function () {",
                      "            const tramo = pm.response.json()[0];",
                      "            pm.expect(tramo).to.have.property('id');",
                      "            pm.expect(tramo).to.have.property('orden');",
                      "            pm.expect(tramo).to.have.property('estado');",
                      "            pm.expect(tramo).to.have.property('camionId');",
                      "        });",
                      "    }",
                      "}",
                      "",
                      "// Console logging",
                      "if (pm.response.code === 200) {",
                      "    const tramos = pm.response.json();",
                      "    console.log('');",
                      "    console.log('✅ Retrieved ' + tramos.length + ' tramos for camion ID: ' + pm.environment.get('camion_id') + ' (RF#7)');",
                      "    console.log('');",
                      "    ",
                      "    if (tramos.length > 0) {",
                      "        console.log('🚛 Tramos del Transportista:');",
                      "        tramos.forEach(function(tramo, index) {",
                      "            console.log('   ' + (index + 1) + '. Tramo #' + tramo.orden + ' - Estado: ' + tramo.estado + ' - Tipo: ' + tramo.tipo);",
                      "            if (tramo.fechaEstimadaInicio) {",
                      "                console.log('      Inicio estimado: ' + tramo.fechaEstimadaInicio);",
                      "            }",
                      "            if (tramo.costoReal) {",
                      "                console.log('      Costo real: $' + tramo.costoReal);",
                      "            }",
                      "        });",
                      "        console.log('');",
                      "        ",
                      "        // Save first tramo_id for testing",
                      "        pm.environment.set('tramo_id', tramos[0].id);",
                      "        console.log('💾 First tramo ID saved to environment variable: tramo_id');",
                      "    } else {",
                      "        console.log('   No hay tramos asignados a este camión');",
                      "    }",
                      "    console.log('');",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Camion not found with ID: ' + pm.environment.get('camion_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/transportistas/{{camion_id}}/tramos",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "transportistas",
                    "{{camion_id}}",
                    "tramos"
                  ]
                },
                "description": "Lista todos los tramos asignados a un camión específico (RF#7 - Consultar tramos asignados a transportista). Este endpoint es útil para que los transportistas vean sus asignaciones de trabajo. Usa la variable {{camion_id}} del environment. Requiere autenticación JWT.\n\n**Casos de uso:**\n- Transportista consulta sus tramos pendientes\n- Operador verifica asignaciones de un camión\n- Sistema muestra trabajo pendiente por transportista"
              },
              "response": []
            },
            {
              "name": "POST Asignar Camion (RF#6)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful assignment or error",
                      "pm.test('Status code is 200 or 400 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "// Test: Validate tramo was assigned successfully",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Tramo was assigned to camion successfully', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo).to.have.property('camionId');",
                      "        pm.expect(tramo.camionId).to.be.a('number');",
                      "        pm.expect(tramo.camionId).to.be.above(0);",
                      "    });",
                      "    ",
                      "    pm.test('Tramo estado changed to ASIGNADO', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo.estado).to.equal('ASIGNADO');",
                      "    });",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Camion assigned to tramo successfully! (RF#6)');",
                      "    console.log('   Tramo ID: ' + pm.response.json().id);",
                      "    console.log('   Orden: ' + pm.response.json().orden);",
                      "    console.log('   Camion ID: ' + pm.response.json().camionId);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    console.log('');",
                      "} else if (pm.response.code === 400) {",
                      "    console.log('⚠️  Cannot assign camion - validation error');",
                      "    console.log('   ' + pm.response.json().message);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tramo not found with ID: ' + pm.environment.get('tramo_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"camionId\": {{camion_id}}\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}/asignar-camion",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{tramo_id}}",
                    "asignar-camion"
                  ]
                },
                "description": "Asigna un camión a un tramo específico (RF#6 - Asignar camión a tramo). El camión debe estar disponible y tener capacidad suficiente para el contenedor del tramo. Cambia el estado del tramo a ASIGNADO.\n\n**Requisitos previos:**\n- El tramo debe estar en estado PENDIENTE\n- El camión debe estar disponible (disponible = true)\n- El camión debe tener capacidad suficiente de peso y volumen\n\n**Validaciones:**\n- Verifica que el camión existe\n- Verifica que el camión está disponible\n- Verifica capacidades de peso y volumen\n- Verifica que el tramo no tiene otro camión asignado\n\n**Transición de estado:** PENDIENTE → ASIGNADO"
              },
              "response": []
            },
            {
              "name": "POST Iniciar Tramo (RF#8)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful start or error",
                      "pm.test('Status code is 200 or 400 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "// Test: Validate tramo was started successfully",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Tramo was started successfully', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo.estado).to.equal('EN_CURSO');",
                      "    });",
                      "    ",
                      "    pm.test('Tramo has start date', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo).to.have.property('fechaHoraInicio');",
                      "        pm.expect(tramo.fechaHoraInicio).to.not.be.null;",
                      "    });",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Tramo started successfully! (RF#8)');",
                      "    console.log('   Tramo ID: ' + pm.response.json().id);",
                      "    console.log('   Orden: ' + pm.response.json().orden);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    console.log('   Fecha/Hora Inicio: ' + pm.response.json().fechaHoraInicio);",
                      "    console.log('');",
                      "} else if (pm.response.code === 400) {",
                      "    console.log('⚠️  Cannot start tramo - validation error');",
                      "    console.log('   ' + pm.response.json().message);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tramo not found with ID: ' + pm.environment.get('tramo_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}/iniciar",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{tramo_id}}",
                    "iniciar"
                  ]
                },
                "description": "Inicia la ejecución de un tramo (RF#8 - Iniciar tramo). Registra la fecha y hora de inicio real del transporte. Cambia el estado del tramo a EN_CURSO y marca el camión como no disponible.\n\n**Requisitos previos:**\n- El tramo debe estar en estado ASIGNADO\n- El tramo debe tener un camión asignado\n- El camión debe estar disponible\n\n**Acciones realizadas:**\n- Registra fechaHoraInicio con timestamp actual\n- Cambia estado del tramo a EN_CURSO\n- Marca el camión como no disponible (disponible = false)\n- Actualiza el estado de la solicitud a EN_CURSO si es el primer tramo\n\n**Transición de estado:** ASIGNADO → EN_CURSO"
              },
              "response": []
            },
            {
              "name": "POST Finalizar Tramo (RF#8 - Cost Calculation)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test: Validate successful finalization or error",
                      "pm.test('Status code is 200 or 400 or 404', function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "// Test: Validate tramo was finalized successfully",
                      "if (pm.response.code === 200) {",
                      "    pm.test('Tramo was finalized successfully', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo.estado).to.equal('FINALIZADO');",
                      "    });",
                      "    ",
                      "    pm.test('Tramo has end date', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo).to.have.property('fechaHoraFin');",
                      "        pm.expect(tramo.fechaHoraFin).to.not.be.null;",
                      "    });",
                      "    ",
                      "    pm.test('Tramo has calculated costoReal', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo).to.have.property('costoReal');",
                      "        pm.expect(tramo.costoReal).to.be.a('number');",
                      "        pm.expect(tramo.costoReal).to.be.above(0);",
                      "    });",
                      "    ",
                      "    pm.test('Tramo has calculated tiempoRealHoras', function () {",
                      "        const tramo = pm.response.json();",
                      "        pm.expect(tramo).to.have.property('tiempoRealHoras');",
                      "        pm.expect(tramo.tiempoRealHoras).to.be.a('number');",
                      "        pm.expect(tramo.tiempoRealHoras).to.be.above(0);",
                      "    });",
                      "    ",
                      "    console.log('');",
                      "    console.log('✅ Tramo finalized successfully with cost calculation! (RF#8)');",
                      "    console.log('   Tramo ID: ' + pm.response.json().id);",
                      "    console.log('   Orden: ' + pm.response.json().orden);",
                      "    console.log('   Estado: ' + pm.response.json().estado);",
                      "    console.log('   Fecha/Hora Inicio: ' + pm.response.json().fechaHoraInicio);",
                      "    console.log('   Fecha/Hora Fin: ' + pm.response.json().fechaHoraFin);",
                      "    console.log('   Tiempo Real: ' + pm.response.json().tiempoRealHoras + ' horas');",
                      "    console.log('   💰 Costo Real Calculado: $' + pm.response.json().costoReal);",
                      "    console.log('');",
                      "    console.log('📊 Desglose del Costo:');",
                      "    console.log('   • Distancia: ' + (pm.response.json().distanciaReal || pm.response.json().distanciaEstimada) + ' km');",
                      "    console.log('   • Costo por km del camión: $' + (pm.response.json().costoPorKm || 'N/A'));",
                      "    console.log('   • Cargo de gestión: incluido en costo total');",
                      "    console.log('');",
                      "} else if (pm.response.code === 400) {",
                      "    console.log('⚠️  Cannot finalize tramo - validation error');",
                      "    console.log('   ' + pm.response.json().message);",
                      "} else if (pm.response.code === 404) {",
                      "    console.log('⚠️  Tramo not found with ID: ' + pm.environment.get('tramo_id'));",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}/finalizar",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{tramo_id}}",
                    "finalizar"
                  ]
                },
                "description": "Finaliza la ejecución de un tramo y calcula el costo real (RF#8 - Finalizar tramo con cálculo de costo). Registra la fecha y hora de finalización, calcula el tiempo real transcurrido, y calcula el costo real basado en la tarifa vigente y las características del camión.\n\n**Requisitos previos:**\n- El tramo debe estar en estado EN_CURSO\n- El tramo debe tener fechaHoraInicio registrada\n- Debe existir una tarifa vigente en el sistema\n\n**Cálculos realizados:**\n- **tiempoRealHoras**: Diferencia entre fechaHoraFin y fechaHoraInicio en horas\n- **costoReal**: Calculado con la fórmula:\n  ```\n  costoReal = (distancia * costoPorKm del camión) + \n              (distancia * consumoCombustible * precioLitroCombustible) + \n              cargoGestionPorTramo\n  ```\n  Donde:\n  - distancia: distanciaEstimada del tramo (en km)\n  - costoPorKm: del camión asignado\n  - consumoCombustible: consumoCombustiblePorKm del camión\n  - precioLitroCombustible: de la tarifa vigente\n  - cargoGestionPorTramo: de la tarifa vigente\n\n**Acciones realizadas:**\n- Registra fechaHoraFin con timestamp actual\n- Calcula tiempoRealHoras\n- Calcula costoReal usando la tarifa vigente\n- Cambia estado del tramo a FINALIZADO\n- Marca el camión como disponible nuevamente (disponible = true)\n\n**Transición de estado:** EN_CURSO → FINALIZADO\n\n**Nota:** Este cálculo de costo es fundamental para RF#9 (Finalizar solicitud), que suma los costos de todos los tramos."
              },
              "response": []
            }
          ],
          "description": "Endpoints para gestión de tramos. Los tramos son segmentos individuales de una ruta que se asignan a camiones específicos. Incluye listado con filtros, consulta por ID, consulta de tramos por camión (RF#7), asignación de camión (RF#6), inicio de tramo (RF#8), y finalización con cálculo de costo (RF#8)."
        }
      ],
      "description": "Endpoints del microservicio de Operaciones. Gestiona clientes, solicitudes, contenedores, rutas y tramos."
    },
    {
      "name": "🔄 E2E Complete Flow",
      "item": [
        {
          "name": "1. Get JWT Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 1] Authentication successful', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('access_token');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.environment.set('jwt_token', jsonData.access_token);",
                  "    console.log('✅ [E2E Step 1/12] JWT Token obtained and saved');",
                  "} else {",
                  "    console.log('❌ [E2E Step 1/12] Failed to obtain JWT token');",
                  "    pm.execution.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "client_id",
                  "value": "{{keycloak_client_id}}",
                  "type": "text"
                },
                {
                  "key": "client_secret",
                  "value": "{{keycloak_client_secret}}",
                  "type": "text"
                },
                {
                  "key": "grant_type",
                  "value": "password",
                  "type": "text"
                },
                {
                  "key": "username",
                  "value": "{{admin_username}}",
                  "type": "text"
                },
                {
                  "key": "password",
                  "value": "{{admin_password}}",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{keycloak_url}}/realms/{{keycloak_realm}}/protocol/openid-connect/token",
              "host": [
                "{{keycloak_url}}"
              ],
              "path": [
                "realms",
                "{{keycloak_realm}}",
                "protocol",
                "openid-connect",
                "token"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2. Create Tarifa Activa",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 2] Tarifa created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const tarifa = pm.response.json();",
                  "    pm.expect(tarifa).to.have.property('id');",
                  "    pm.expect(tarifa.costoKmBase).to.be.above(0);",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const tarifa = pm.response.json();",
                  "    pm.environment.set('tarifa_id', tarifa.id);",
                  "    console.log('✅ [E2E Step 2/12] Tarifa created - ID: ' + tarifa.id);",
                  "} else {",
                  "    console.log('❌ [E2E Step 2/12] Failed to create tarifa');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"costoKmBase\": 5.0,\n  \"precioLitroCombustible\": 850.0,\n  \"cargoGestionPorTramo\": 5000.0,\n  \"costoEstadiaDiaria\": 3000.0,\n  \"vigenciaDesde\": \"2020-01-01T00:00:00\"\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/flota/tarifas",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "flota", "tarifas"
              ]
            }
          },
          "response": []
        },
        {
          "name": "3. Create Camion",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 3] Camion created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const camion = pm.response.json();",
                  "    pm.expect(camion).to.have.property('id');",
                  "    pm.expect(camion.disponible).to.be.true;",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const camion = pm.response.json();",
                  "    pm.environment.set('camion_id', camion.id);",
                  "    console.log('✅ [E2E Step 3/12] Camion created - ID: ' + camion.id + ', Dominio: ' + camion.dominio);",
                  "} else {",
                  "    console.log('❌ [E2E Step 3/12] Failed to create camion');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"dominio\": \"E2E{{$timestamp}}\",\n  \"nombreTransportista\": \"Transportista E2E Test\",\n  \"telefono\": \"351-1234567\",\n  \"capacidadPeso\": 20000,\n  \"capacidadVolumen\": 40,\n  \"consumoCombustiblePorKm\": 0.35,\n  \"costoPorKm\": 5.0\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/flota/camiones",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "flota", "camiones"
              ]
            }
          },
          "response": []
        },
        {
          "name": "4. Create Deposito",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 4] Deposito created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const deposito = pm.response.json();",
                  "    pm.expect(deposito).to.have.property('id');",
                  "    pm.expect(deposito.latitud).to.be.within(-90, 90);",
                  "    pm.expect(deposito.longitud).to.be.within(-180, 180);",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const deposito = pm.response.json();",
                  "    pm.environment.set('deposito_id', deposito.id);",
                  "    console.log('✅ [E2E Step 4/12] Deposito created - ID: ' + deposito.id + ', Nombre: ' + deposito.nombre);",
                  "} else {",
                  "    console.log('❌ [E2E Step 4/12] Failed to create deposito');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Deposito E2E Test\",\n  \"direccion\": \"Av. Circunvalación 1234, Córdoba\",\n  \"latitud\": -31.4201,\n  \"longitud\": -64.1888,\n  \"costoEstadiaDiaria\": 5000.0\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/flota/depositos",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "flota", "depositos"
              ]
            }
          },
          "response": []
        },
        {
          "name": "5. Create Cliente",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 5] Cliente created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const cliente = pm.response.json();",
                  "    pm.expect(cliente).to.have.property('id');",
                  "    pm.expect(cliente).to.have.property('email');",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const cliente = pm.response.json();",
                  "    pm.environment.set('cliente_id', cliente.id);",
                  "    console.log('✅ [E2E Step 5/12] Cliente created - ID: ' + cliente.id + ', Nombre: ' + cliente.nombre);",
                  "} else {",
                  "    console.log('❌ [E2E Step 5/12] Failed to create cliente');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Cliente E2E Test\",\n  \"direccion\": \"Av. Colón 123, Córdoba\",\n  \"cuit\": \"20-{{$timestamp}}-9\",\n  \"telefono\": \"351-1234567\",\n  \"email\": \"e2e{{$timestamp}}@test.com\"\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/clientes",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "clientes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "6. Create Contenedor",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 6] Contenedor created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const contenedor = pm.response.json();",
                  "    pm.expect(contenedor).to.have.property('id');",
                  "    pm.expect(contenedor).to.have.property('numero');",
                  "    pm.expect(contenedor.estado).to.equal('DISPONIBLE');",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const contenedor = pm.response.json();",
                  "    pm.environment.set('contenedor_id', contenedor.id);",
                  "    console.log('✅ [E2E Step 6/13] Contenedor created - ID: ' + contenedor.id + ', Numero: ' + contenedor.numero);",
                  "} else {",
                  "    console.log('❌ [E2E Step 6/13] Failed to create contenedor');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"numero\": \"CONT-E2E-{{$timestamp}}\",\n  \"tipo\": \"STANDARD\",\n  \"peso\": 15000,\n  \"volumen\": 30,\n  \"clienteId\": {{cliente_id}},\n  \"estado\": \"DISPONIBLE\"\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/contenedores",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "contenedores"
              ]
            }
          },
          "response": []
        },
        {
          "name": "7. Create Solicitud con Contenedor",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 7] Solicitud created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const solicitud = pm.response.json();",
                  "    pm.expect(solicitud).to.have.property('id');",
                  "    pm.expect(solicitud).to.have.property('numero');",
                  "    pm.expect(solicitud.estado).to.equal('BORRADOR');",
                  "});",
                  "",
                  "pm.test('[E2E Step 7] Solicitud has contenedorId', function () {",
                  "    const solicitud = pm.response.json();",
                  "    pm.expect(solicitud).to.have.property('contenedorId');",
                  "    pm.expect(solicitud.contenedorId).to.be.a('number');",
                  "});",
                  "",
                  "pm.test('[E2E Step 7] Solicitud has clienteId', function () {",
                  "    const solicitud = pm.response.json();",
                  "    pm.expect(solicitud).to.have.property('clienteId');",
                  "    pm.expect(solicitud.clienteId).to.be.a('number');",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const solicitud = pm.response.json();",
                  "    pm.environment.set('solicitud_id', solicitud.id);",
                  "    pm.environment.set('ruta_id', solicitud.ruta.id);",
                  "    console.log('✅ [E2E Step 7/13] Solicitud created - ID: ' + solicitud.id);",
                  "    console.log('   Contenedor ID: ' + solicitud.contenedorId + ', Cliente ID: ' + solicitud.clienteId + ', Estado: ' + solicitud.estado);",
                  "    console.log('   Ruta ID: ' + solicitud.ruta.id);",
                  "} else {",
                  "    console.log('❌ [E2E Step 7/13] Failed to create solicitud');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contenedorId\": {{contenedor_id}},\n  \"clienteId\": {{cliente_id}},\n  \"direccionOrigen\": \"Córdoba, Argentina\",\n  \"latitudOrigen\": -31.4201,\n  \"longitudOrigen\": -64.1888,\n  \"direccionDestino\": \"Buenos Aires, Argentina\",\n  \"latitudDestino\": -34.6037,\n  \"longitudDestino\": -58.3816,\n  \"observaciones\": \"Solicitud E2E Test - Flujo completo automatizado\"\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "8. Get Rutas Tentativas (Google Maps)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 7] Rutas tentativas calculated', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const rutas = pm.response.json();",
                  "    pm.expect(rutas).to.be.an('array');",
                  "    pm.expect(rutas.length).to.be.above(0);",
                  "});",
                  "",
                  "pm.test('[E2E Step 7] Google Maps data present', function () {",
                  "    const rutas = pm.response.json();",
                  "    const ruta = rutas[0];",
                  "    pm.expect(ruta).to.have.property('distanciaTotal');",
                  "    pm.expect(ruta).to.have.property('tiempoEstimadoTotal');",
                  "    pm.expect(ruta.distanciaTotal).to.be.above(0);",
                  "    pm.expect(ruta.tiempoEstimadoTotal).to.be.above(0);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const rutas = pm.response.json();",
                  "    const ruta = rutas[0];",
                  "    console.log('✅ [E2E Step 8/13] Rutas tentativas calculated via Google Maps');",
                  "    console.log('   Distancia Total: ' + ruta.distanciaTotal + ' km');",
                  "    console.log('   Tiempo Estimado: ' + ruta.tiempoEstimadoTotal + ' horas');",
                  "    console.log('   Tramos: ' + ruta.tramos.length);",
                  "} else {",
                  "    console.log('❌ [E2E Step 8/13] Failed to get rutas tentativas');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/rutas/tentativas",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes",
                "{{solicitud_id}}",
                "rutas",
                "tentativas"
              ]
            }
          },
          "response": []
        },
        {
          "name": "9. Asignar Ruta",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 8] Ruta assigned successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const ruta = pm.response.json();",
                  "    pm.expect(ruta).to.have.property('id');",
                  "    pm.expect(ruta).to.have.property('tramos');",
                  "    pm.expect(ruta.tramos).to.be.an('array');",
                  "    pm.expect(ruta.tramos.length).to.be.above(0);",
                  "});",
                  "",
                  "pm.test('[E2E Step 8] Tramos created with ruta', function () {",
                  "    const ruta = pm.response.json();",
                  "    const tramo = ruta.tramos[0];",
                  "    pm.expect(tramo).to.have.property('id');",
                  "    pm.expect(tramo.estado).to.equal('PENDIENTE');",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const ruta = pm.response.json();",
                  "    pm.environment.set('ruta_id', ruta.id);",
                  "    pm.environment.set('tramo_id', ruta.tramos[0].id);",
                  "    console.log('✅ [E2E Step 9/13] Ruta assigned - ID: ' + ruta.id);",
                  "    console.log('   Distancia Total: ' + ruta.distanciaTotal + ' km');",
                  "    console.log('   Tramos created: ' + ruta.tramos.length);",
                  "    console.log('   First Tramo ID: ' + ruta.tramos[0].id);",
                  "} else {",
                  "    console.log('❌ [E2E Step 9/13] Failed to assign ruta');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tramos\": [\n    {\n      \"orden\": 1,\n      \"tipo\": \"ORIGEN-DESTINO\",\n      \"latitudInicio\": -31.4201,\n      \"longitudInicio\": -64.1888,\n      \"latitudFin\": -34.6037,\n      \"longitudFin\": -58.3816,\n      \"fechaEstimadaInicio\": \"2024-12-01T08:00:00\",\n      \"fechaEstimadaFin\": \"2024-12-01T18:00:00\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/asignar-ruta",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes",
                "{{solicitud_id}}",
                "asignar-ruta"
              ]
            }
          },
          "response": []
        },
        {
          "name": "9. Crear Referencia de Camion",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 9] Camion reference created', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const camionRef = pm.response.json();",
                  "    pm.expect(camionRef).to.have.property('id');",
                  "    pm.expect(camionRef).to.have.property('dominio');",
                  "    pm.expect(camionRef).to.have.property('disponible');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const camionRef = pm.response.json();",
                  "    // Guardar el ID de la referencia para usar en asignación",
                  "    pm.environment.set('camion_ref_id', camionRef.id);",
                  "    console.log('✅ [E2E Step 9/13] Camion reference created');",
                  "    console.log('   Reference ID: ' + camionRef.id);",
                  "    console.log('   Dominio: ' + camionRef.dominio);",
                  "    console.log('   Disponible: ' + camionRef.disponible);",
                  "} else {",
                  "    console.log('❌ [E2E Step 9/13] Failed to create camion reference');",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Obtener datos del camión desde el environment",
                  "const camionId = pm.environment.get('camion_id');",
                  "",
                  "// Hacer una llamada para obtener los datos completos del camión",
                  "const token = pm.environment.get('jwt_token');",
                  "const gatewayUrl = pm.environment.get('gateway_url');",
                  "",
                  "pm.sendRequest({",
                  "    url: gatewayUrl + '/api/flota/camiones/' + camionId,",
                  "    method: 'GET',",
                  "    header: {",
                  "        'Authorization': 'Bearer ' + token",
                  "    }",
                  "}, function (err, response) {",
                  "    if (err) {",
                  "        console.log('Error obteniendo datos del camión: ' + err);",
                  "        return;",
                  "    }",
                  "    ",
                  "    const camion = response.json();",
                  "    ",
                  "    // Guardar datos del camión en variables de environment",
                  "    pm.environment.set('camion_dominio', camion.dominio);",
                  "    pm.environment.set('camion_capacidadPeso', camion.capacidadPeso);",
                  "    pm.environment.set('camion_capacidadVolumen', camion.capacidadVolumen);",
                  "    pm.environment.set('camion_costoPorKm', camion.costoPorKm);",
                  "    ",
                  "    console.log('📋 Datos del camión obtenidos para crear referencia:');",
                  "    console.log('   Dominio: ' + camion.dominio);",
                  "    console.log('   Capacidad Peso: ' + camion.capacidadPeso + ' kg');",
                  "    console.log('   Capacidad Volumen: ' + camion.capacidadVolumen + ' m³');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"camionIdFlota\": {{camion_id}},\n  \"dominio\": \"{{camion_dominio}}\",\n  \"capacidadPeso\": {{camion_capacidadPeso}},\n  \"capacidadVolumen\": {{camion_capacidadVolumen}},\n  \"disponible\": true,\n  \"costoPorKm\": {{camion_costoPorKm}}\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/camion-references",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "camion-references"
              ]
            }
          },
          "response": []
        },
        {
          "name": "10. Asignar Camion a Tramo",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 10] Camion assigned to tramo', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const tramo = pm.response.json();",
                  "    pm.expect(tramo).to.have.property('camion');",
                  "    pm.expect(tramo.estado).to.equal('ASIGNADO');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const tramo = pm.response.json();",
                  "    console.log('✅ [E2E Step 10/13] Camion assigned to tramo');",
                  "    console.log('   Tramo ID: ' + tramo.id);",
                  "    console.log('   Camion Ref ID: ' + pm.environment.get('camion_ref_id'));",
                  "    console.log('   Estado: ' + tramo.estado);",
                  "} else {",
                  "    console.log('❌ [E2E Step 10/13] Failed to assign camion');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"camionId\": {{camion_ref_id}}\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}/asignar-camion",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "tramos",
                "{{tramo_id}}",
                "asignar-camion"
              ]
            }
          },
          "response": []
        },
        {
          "name": "11. Iniciar Tramo",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 11] Tramo started successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const tramo = pm.response.json();",
                  "    pm.expect(tramo.estado).to.equal('INICIADO');",
                  "    pm.expect(tramo).to.have.property('fechaRealInicio');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const tramo = pm.response.json();",
                  "    console.log('✅ [E2E Step 11/13] Tramo started');",
                  "    console.log('   Tramo ID: ' + tramo.id);",
                  "    console.log('   Estado: ' + tramo.estado);",
                  "    console.log('   Fecha/Hora Inicio: ' + tramo.fechaRealInicio);",
                  "} else {",
                  "    console.log('❌ [E2E Step 11/13] Failed to start tramo');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}/iniciar",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "tramos",
                "{{tramo_id}}",
                "iniciar"
              ]
            }
          },
          "response": []
        },
        {
          "name": "12. Finalizar Tramo (validates cost calculation)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 12] Tramo finalized successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const tramo = pm.response.json();",
                  "    pm.expect(tramo.estado).to.equal('FINALIZADO');",
                  "    pm.expect(tramo).to.have.property('fechaRealFin');",
                  "});",
                  "",
                  "pm.test('[E2E Step 12] Cost calculation validated', function () {",
                  "    const tramo = pm.response.json();",
                  "    pm.expect(tramo).to.have.property('costoReal');",
                  "    pm.expect(tramo.costoReal).to.be.a('number');",
                  "    pm.expect(tramo.costoReal).to.be.above(0);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const tramo = pm.response.json();",
                  "    console.log('✅ [E2E Step 12/13] Tramo finalized with cost calculation (RF#8)');",
                  "    console.log('   Tramo ID: ' + tramo.id);",
                  "    console.log('   Estado: ' + tramo.estado);",
                  "    console.log('   Fecha/Hora Fin: ' + tramo.fechaRealFin);",
                  "    console.log('   💰 Costo Real: $' + tramo.costoReal);",
                  "    console.log('');",
                  "    console.log('📊 Cost Calculation Breakdown:');",
                  "    console.log('   • Distance: ' + tramo.distanciaKm + ' km');",
                  "    console.log('   • Cost per km: included in total');",
                  "    console.log('   • Fuel cost: included in total');",
                  "    console.log('   • Management fee: included in total');",
                  "} else {",
                  "    console.log('❌ [E2E Step 12/13] Failed to finalize tramo');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/tramos/{{tramo_id}}/finalizar",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "tramos",
                "{{tramo_id}}",
                "finalizar"
              ]
            }
          },
          "response": []
        },
        {
          "name": "13. Finalizar Solicitud (validates total cost and time)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('[E2E Step 13] Solicitud finalized successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const solicitud = pm.response.json();",
                  "    pm.expect(solicitud.estado).to.equal('ENTREGADA');",
                  "});",
                  "",
                  "pm.test('[E2E Step 13] Total cost calculated', function () {",
                  "    const solicitud = pm.response.json();",
                  "    pm.expect(solicitud).to.have.property('costoFinal');",
                  "    pm.expect(solicitud.costoFinal).to.be.a('number');",
                  "    pm.expect(solicitud.costoFinal).to.be.above(0);",
                  "});",
                  "",
                  "pm.test('[E2E Step 13] Total time calculated', function () {",
                  "    const solicitud = pm.response.json();",
                  "    pm.expect(solicitud).to.have.property('tiempoReal');",
                  "    pm.expect(solicitud.tiempoReal).to.be.a('number');",
                  "    pm.expect(solicitud.tiempoReal).to.be.above(0);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const solicitud = pm.response.json();",
                  "    console.log('');",
                  "    console.log('🎉 ============================================');",
                  "    console.log('✅ [E2E Step 13/13] E2E FLOW COMPLETED SUCCESSFULLY!');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('📋 Solicitud Summary:');",
                  "    console.log('   • Solicitud ID: ' + solicitud.id);",
                  "    console.log('   • Estado: ' + solicitud.estado);",
                  "    console.log('   • Cliente ID: ' + solicitud.cliente.id);",
                  "    console.log('   • Contenedor ID: ' + solicitud.contenedor.id);",
                  "    console.log('');",
                  "    console.log('💰 Financial Summary (RF#9):');",
                  "    console.log('   • Costo Final: $' + solicitud.costoFinal);",
                  "    console.log('   • Tiempo Real: ' + solicitud.tiempoReal + ' horas');",
                  "    console.log('');",
                  "    console.log('🚛 Route Summary:');",
                  "    if (solicitud.ruta) {",
                  "        console.log('   • Ruta ID: ' + solicitud.ruta.id);",
                  "        console.log('   • Distancia Total: ' + solicitud.ruta.distanciaTotal + ' km');",
                  "    }",
                  "    console.log('');",
                  "    console.log('✨ All system components validated:');",
                  "    console.log('   ✓ Authentication (Keycloak)');",
                  "    console.log('   ✓ Servicio Flota (Tarifas, Camiones)');",
                  "    console.log('   ✓ Servicio Operaciones (Clientes, Solicitudes, Rutas, Tramos)');",
                  "    console.log('   ✓ Camion Reference Sync (microservices communication)');",
                  "    console.log('   ✓ Google Maps Integration (RF#3)');",
                  "    console.log('   ✓ Cost Calculation (RF#8, RF#9)');",
                  "    console.log('   ✓ State Transitions (BORRADOR → PROGRAMADA → EN_TRANSITO → ENTREGADA)');",
                  "    console.log('');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "} else {",
                  "    console.log('❌ [E2E Step 13/13] Failed to finalize solicitud');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/finalizar",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes",
                "{{solicitud_id}}",
                "finalizar"
              ]
            }
          },
          "response": []
        }
      ],
      "description": "Flujo End-to-End completo que demuestra todo el sistema funcionando de forma integrada. Ejecuta automáticamente desde la autenticación hasta la finalización de una solicitud con cálculo de costos. Ideal para demostración automatizada usando Collection Runner."
    },
    {
      "name": "🧪 PowerShell E2E Equivalent",
      "item": [
        {
          "name": "1. Authenticate with Keycloak",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// ========== PASO 1: AUTENTICACION ==========",
                  "console.log('');",
                  "console.log('SISTEMA TPI BACKEND - PRUEBA E2E COMPLETA');",
                  "console.log('==========================================');",
                  "console.log('');",
                  "console.log('1. AUTENTICACION CON KEYCLOAK');",
                  "console.log('   Obteniendo token JWT desde Keycloak...');",
                  "",
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response contains access_token', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('access_token');",
                  "    pm.expect(jsonData.access_token).to.be.a('string');",
                  "    pm.expect(jsonData.access_token.length).to.be.above(0);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.environment.set('jwt_token', jsonData.access_token);",
                  "    console.log('   OK - Token JWT obtenido exitosamente');",
                  "    console.log('   OK - Headers de autenticacion configurados');",
                  "} else {",
                  "    console.log('   ERROR - Failed to obtain JWT token');",
                  "    pm.execution.setNextRequest(null);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "client_id",
                  "value": "{{keycloak_client_id}}",
                  "type": "text"
                },
                {
                  "key": "client_secret",
                  "value": "{{keycloak_client_secret}}",
                  "type": "text"
                },
                {
                  "key": "grant_type",
                  "value": "password",
                  "type": "text"
                },
                {
                  "key": "username",
                  "value": "{{admin_username}}",
                  "type": "text"
                },
                {
                  "key": "password",
                  "value": "{{admin_password}}",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{keycloak_url}}/realms/{{keycloak_realm}}/protocol/openid-connect/token",
              "host": [
                "{{keycloak_url}}"
              ],
              "path": [
                "realms",
                "{{keycloak_realm}}",
                "protocol",
                "openid-connect",
                "token"
              ]
            },
            "description": "Replica el Paso 1 del script PowerShell: Autenticación con Keycloak para obtener JWT token."
          },
          "response": []
        },
        {
          "name": "2. Gateway Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// ========== PASO 2: VERIFICACION API GATEWAY ==========",
                  "console.log('');",
                  "console.log('2. VERIFICACION API GATEWAY');",
                  "console.log('   Verificando salud del API Gateway...');",
                  "",
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Gateway status is UP', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData.status).to.equal('UP');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    console.log('   OK - API Gateway funcionando (Status: ' + jsonData.status + ')');",
                  "} else {",
                  "    console.log('   ERROR - API Gateway health check failed');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/actuator/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8080",
              "path": [
                "actuator",
                "health"
              ]
            },
            "description": "Replica el Paso 2 del script PowerShell: Verificación del health check del API Gateway."
          },
          "response": []
        },
        {
          "name": "3. Get Existing Clientes",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// ========== PASO 3: VERIFICACION MICROSERVICIO OPERACIONES ==========",
                  "console.log('');",
                  "console.log('3. MICROSERVICIO OPERACIONES VIA GATEWAY');",
                  "console.log('   Consultando clientes existentes...');",
                  "",
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response is an array', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const clientes = pm.response.json();",
                  "    console.log('   OK - Servicio Operaciones respondiendo (' + clientes.length + ' clientes en BD)');",
                  "} else {",
                  "    console.log('   ERROR - Failed to get clientes');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/clientes",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "clientes"
              ]
            },
            "description": "Replica el Paso 3 del script PowerShell: Consulta de clientes existentes a través del API Gateway."
          },
          "response": []
        },
        {
          "name": "4. Create Test Cliente",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log('   Creando cliente de prueba...');",
                  "",
                  "pm.test('Status code is 201', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test('Cliente has required fields', function () {",
                  "    const cliente = pm.response.json();",
                  "    pm.expect(cliente).to.have.property('id');",
                  "    pm.expect(cliente).to.have.property('nombre');",
                  "    pm.expect(cliente).to.have.property('cuit');",
                  "    pm.expect(cliente).to.have.property('email');",
                  "});",
                  "",
                  "pm.test('Cliente data matches request', function () {",
                  "    const cliente = pm.response.json();",
                  "    pm.expect(cliente.nombre).to.equal('Cliente Test E2E');",
                  "    pm.expect(cliente.cuit).to.equal('20-98765432-1');",
                  "    pm.expect(cliente.email).to.equal('test.e2e@microservicios.com');",
                  "});",
                  "",
                  "if (pm.response.code === 201) {",
                  "    const cliente = pm.response.json();",
                  "    pm.environment.set('ps_test_cliente_id', cliente.id);",
                  "    console.log('   OK - Cliente creado exitosamente:');",
                  "    console.log('        Nombre: ' + cliente.nombre);",
                  "    console.log('        ID: ' + cliente.id);",
                  "    console.log('        CUIT: ' + cliente.cuit);",
                  "} else {",
                  "    console.log('   ERROR - Failed to create cliente');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Cliente Test E2E\",\n  \"direccion\": \"Av. Microservicios 123, Cordoba\",\n  \"cuit\": \"20-98765432-1\",\n  \"telefono\": \"351-987654\",\n  \"email\": \"test.e2e@microservicios.com\"\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/clientes",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "clientes"
              ]
            },
            "description": "Replica el Paso 3 del script PowerShell: Creación de un cliente de prueba con datos específicos."
          },
          "response": []
        },
        {
          "name": "5. Verify Cliente by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "console.log('   Verificando cliente creado por ID...');",
                  "",
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Cliente found with correct ID', function () {",
                  "    const cliente = pm.response.json();",
                  "    pm.expect(cliente).to.have.property('id');",
                  "    pm.expect(cliente.id).to.equal(parseInt(pm.environment.get('ps_test_cliente_id')));",
                  "});",
                  "",
                  "pm.test('Cliente data is correct', function () {",
                  "    const cliente = pm.response.json();",
                  "    pm.expect(cliente.nombre).to.equal('Cliente Test E2E');",
                  "    pm.expect(cliente.email).to.equal('test.e2e@microservicios.com');",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const cliente = pm.response.json();",
                  "    console.log('   OK - Cliente verificado correctamente');",
                  "    console.log('        Email: ' + cliente.email);",
                  "} else {",
                  "    console.log('   ERROR - Failed to verify cliente');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/clientes/{{ps_test_cliente_id}}",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "clientes",
                "{{ps_test_cliente_id}}"
              ]
            },
            "description": "Replica el Paso 3 del script PowerShell: Verificación del cliente creado consultándolo por ID."
          },
          "response": []
        },
        {
          "name": "6. Test Security (No Token - Expect 401)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// ========== PASO 4: VERIFICACION SEGURIDAD ==========",
                  "console.log('');",
                  "console.log('4. VERIFICACION SEGURIDAD JWT');",
                  "console.log('   Probando acceso sin token de autenticacion...');",
                  "",
                  "pm.test('Status code is 401 Unauthorized', function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test('Access denied without token', function () {",
                  "    pm.expect(pm.response.code).to.equal(401);",
                  "});",
                  "",
                  "if (pm.response.code === 401) {",
                  "    console.log('   OK - Acceso correctamente bloqueado sin token (401 Unauthorized)');",
                  "} else if (pm.response.code === 200) {",
                  "    console.log('   ERROR - Acceso permitido sin token (problema de seguridad)');",
                  "} else {",
                  "    console.log('   ADVERTENCIA - Respuesta inesperada: ' + pm.response.code);",
                  "}",
                  "",
                  "// ========== RESULTADO FINAL ==========",
                  "if (pm.response.code === 401) {",
                  "    console.log('');",
                  "    console.log('================================================================');",
                  "    console.log('                  PRUEBA E2E COMPLETADA CON EXITO');",
                  "    console.log('================================================================');",
                  "    console.log('');",
                  "    console.log('COMPONENTES VERIFICADOS:');",
                  "    console.log('  - Keycloak Server (OAuth2 + JWT)');",
                  "    console.log('  - API Gateway (Spring Cloud Gateway)');",
                  "    console.log('  - Microservicio Operaciones (CRUD)');",
                  "    console.log('  - Seguridad de Endpoints (JWT)');",
                  "    console.log('  - Comunicacion entre Servicios');",
                  "    console.log('');",
                  "    console.log('OPERACIONES REALIZADAS:');",
                  "    console.log('  > Autenticacion OAuth2 exitosa');",
                  "    console.log('  > Consulta de clientes via Gateway');",
                  "    console.log('  > Creacion de cliente de prueba');",
                  "    console.log('  > Verificacion de cliente por ID');",
                  "    console.log('  > Validacion de seguridad JWT');",
                  "    console.log('');",
                  "    const clienteId = pm.environment.get('ps_test_cliente_id');",
                  "    if (clienteId) {",
                  "        console.log('CLIENTE DE PRUEBA CREADO:');",
                  "        console.log('  Nombre: Cliente Test E2E');",
                  "        console.log('  ID: ' + clienteId);",
                  "        console.log('  Email: test.e2e@microservicios.com');",
                  "        console.log('');",
                  "    }",
                  "    console.log('ARQUITECTURA DE MICROSERVICIOS COMPLETAMENTE FUNCIONAL!');",
                  "    console.log('El sistema esta listo para desarrollo y produccion.');",
                  "    console.log('');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/clientes",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "clientes"
              ]
            },
            "description": "Replica el Paso 4 del script PowerShell: Intenta acceder sin token de autenticación para verificar que la seguridad JWT está funcionando correctamente. Debe retornar 401 Unauthorized."
          },
          "response": []
        }
      ],
      "description": "Replica exactamente el flujo del script test-e2e-microservicios.ps1. Valida autenticación con Keycloak, health check del Gateway, operaciones CRUD en el microservicio de Operaciones, y seguridad JWT. Los mensajes de consola coinciden con el formato del script PowerShell para facilitar la comparación."
    },
    {
      "name": "🌍 Google Maps Integration",
      "item": [
        {
          "name": "Setup: Create Solicitud (Cordoba-CABA)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Test: Validate successful creation",
                  "pm.test('[Google Maps Setup] Solicitud created successfully', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "// Test: Validate response structure",
                  "pm.test('[Google Maps Setup] Response has required fields', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('id');",
                  "    pm.expect(response).to.have.property('numero');",
                  "    pm.expect(response).to.have.property('estado');",
                  "    pm.expect(response).to.have.property('contenedor');",
                  "    pm.expect(response.contenedor).to.have.property('id');",
                  "});",
                  "",
                  "// Test: Validate coordinates",
                  "pm.test('[Google Maps Setup] Coordinates are correct', function () {",
                  "    const response = pm.response.json();",
                  "    const contenedor = response.contenedor;",
                  "    ",
                  "    // Cordoba coordinates",
                  "    pm.expect(contenedor.latitudOrigen).to.be.closeTo(-31.4201, 0.01);",
                  "    pm.expect(contenedor.longitudOrigen).to.be.closeTo(-64.1888, 0.01);",
                  "    ",
                  "    // Buenos Aires coordinates",
                  "    pm.expect(contenedor.latitudDestino).to.be.closeTo(-34.6037, 0.01);",
                  "    pm.expect(contenedor.longitudDestino).to.be.closeTo(-58.3816, 0.01);",
                  "});",
                  "",
                  "// Save IDs for subsequent requests",
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('gmaps_solicitud_id', response.id);",
                  "    pm.environment.set('gmaps_contenedor_id', response.contenedor.id);",
                  "    ",
                  "    console.log('');",
                  "    console.log('🌍 ============================================');",
                  "    console.log('   GOOGLE MAPS INTEGRATION - SETUP');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('✅ Solicitud created for Google Maps testing');",
                  "    console.log('   Solicitud ID: ' + response.id);",
                  "    console.log('   Solicitud Number: ' + response.numero);",
                  "    console.log('   Contenedor ID: ' + response.contenedor.id);",
                  "    console.log('');",
                  "    console.log('📍 Route Details:');",
                  "    console.log('   Origin: Córdoba, Argentina');",
                  "    console.log('   Coordinates: ' + response.contenedor.latitudOrigen + ', ' + response.contenedor.longitudOrigen);",
                  "    console.log('   Destination: Buenos Aires, Argentina');",
                  "    console.log('   Coordinates: ' + response.contenedor.latitudDestino + ', ' + response.contenedor.longitudDestino);",
                  "    console.log('');",
                  "    console.log('📏 Expected Distance: ~700 km (direct route)');",
                  "    console.log('⏱️  Expected Time: ~7-8 hours');",
                  "    console.log('');",
                  "    console.log('✨ Ready to test Google Maps API integration!');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contenedor\": {\n    \"numero\": \"GMAPS-CORDOBA-CABA-{{$timestamp}}\",\n    \"tipo\": \"STANDARD\",\n    \"peso\": 18000,\n    \"volumen\": 35,\n    \"clienteId\": {{cliente_id}},\n    \"estado\": \"DISPONIBLE\"\n  },\n  \"clienteId\": {{cliente_id}},\n  \"direccionOrigen\": \"Córdoba, Argentina\",\n  \"latitudOrigen\": -31.4201,\n  \"longitudOrigen\": -64.1888,\n  \"direccionDestino\": \"Buenos Aires, Argentina\",\n  \"latitudDestino\": -34.6037,\n  \"longitudDestino\": -58.3816,\n  \"observaciones\": \"Solicitud de prueba para Google Maps - Ruta Córdoba a Buenos Aires (aprox. 700 km)\"\n}"
            },
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes"
              ]
            },
            "description": "Crea una solicitud de transporte desde Córdoba a Buenos Aires para probar la integración con Google Maps API. Esta ruta tiene aproximadamente 700 km de distancia directa."
          },
          "response": []
        },
        {
          "name": "Get Rutas Tentativas (Direct Route)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Test: Validate successful response",
                  "pm.test('[Google Maps] Rutas tentativas retrieved successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test: Validate response is an array",
                  "pm.test('[Google Maps] Response is an array of routes', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.be.an('array');",
                  "    pm.expect(response.length).to.be.above(0);",
                  "});",
                  "",
                  "// Test: Validate Google Maps response structure",
                  "pm.test('[Google Maps] Route has Google Maps calculated fields', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    pm.expect(firstRoute).to.have.property('distanciaTotal');",
                  "    pm.expect(firstRoute).to.have.property('tiempoEstimadoTotal');",
                  "    pm.expect(firstRoute).to.have.property('tramos');",
                  "    ",
                  "    pm.expect(firstRoute.distanciaTotal).to.be.a('number');",
                  "    pm.expect(firstRoute.tiempoEstimadoTotal).to.be.a('number');",
                  "    pm.expect(firstRoute.tramos).to.be.an('array');",
                  "});",
                  "",
                  "// Test: Validate distance is realistic (> 600km for Cordoba-CABA)",
                  "pm.test('[Google Maps] Distance is greater than 600 km', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    pm.expect(firstRoute.distanciaTotal).to.be.above(600);",
                  "});",
                  "",
                  "// Test: Validate time is realistic",
                  "pm.test('[Google Maps] Estimated time is realistic', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    // Should be at least 6 hours for 700km",
                  "    pm.expect(firstRoute.tiempoEstimadoTotal).to.be.above(6);",
                  "});",
                  "",
                  "// Test: Validate tramos structure",
                  "pm.test('[Google Maps] Tramos have required fields', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    firstRoute.tramos.forEach(function(tramo) {",
                  "        pm.expect(tramo).to.have.property('orden');",
                  "        pm.expect(tramo).to.have.property('tipo');",
                  "        pm.expect(tramo).to.have.property('distanciaKm');",
                  "        pm.expect(tramo).to.have.property('tiempoEstimadoHoras');",
                  "        pm.expect(tramo).to.have.property('latitudInicio');",
                  "        pm.expect(tramo).to.have.property('longitudInicio');",
                  "        pm.expect(tramo).to.have.property('latitudFin');",
                  "        pm.expect(tramo).to.have.property('longitudFin');",
                  "    });",
                  "});",
                  "",
                  "// Console logging with detailed information",
                  "if (pm.response.code === 200) {",
                  "    const routes = pm.response.json();",
                  "    ",
                  "    console.log('');",
                  "    console.log('🌍 ============================================');",
                  "    console.log('   GOOGLE MAPS API - DIRECT ROUTE');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('✅ Google Maps API integration successful!');",
                  "    console.log('   Found ' + routes.length + ' possible route(s)');",
                  "    console.log('');",
                  "    ",
                  "    routes.forEach(function(route, index) {",
                  "        console.log('📍 Route ' + (index + 1) + ':');",
                  "        console.log('   Total Distance: ' + route.distanciaTotal.toFixed(2) + ' km');",
                  "        console.log('   Estimated Time: ' + route.tiempoEstimadoTotal.toFixed(2) + ' hours');",
                  "        console.log('   Number of Tramos: ' + route.tramos.length);",
                  "        console.log('');",
                  "        ",
                  "        route.tramos.forEach(function(tramo) {",
                  "            console.log('   Tramo ' + tramo.orden + ' (' + tramo.tipo + '):');",
                  "            console.log('      Distance: ' + tramo.distanciaKm.toFixed(2) + ' km');",
                  "            console.log('      Time: ' + tramo.tiempoEstimadoHoras.toFixed(2) + ' hours');",
                  "            console.log('      From: [' + tramo.latitudInicio.toFixed(4) + ', ' + tramo.longitudInicio.toFixed(4) + ']');",
                  "            console.log('      To: [' + tramo.latitudFin.toFixed(4) + ', ' + tramo.longitudFin.toFixed(4) + ']');",
                  "            console.log('');",
                  "        });",
                  "    });",
                  "    ",
                  "    console.log('✨ Google Maps successfully calculated route distances and times!');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    ",
                  "    // Save first route ID if available",
                  "    if (routes.length > 0 && routes[0].id) {",
                  "        pm.environment.set('gmaps_ruta_id', routes[0].id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{gmaps_solicitud_id}}/rutas/tentativas",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes",
                "{{gmaps_solicitud_id}}",
                "rutas",
                "tentativas"
              ]
            },
            "description": "Obtiene rutas tentativas calculadas por Google Maps API para la solicitud. La ruta directa Córdoba-Buenos Aires debe tener aproximadamente 700 km. Este endpoint demuestra la integración con Google Maps Distance Matrix API (RF#3)."
          },
          "response": []
        },
        {
          "name": "Get Rutas Tentativas (With Intermediate Deposito)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Test: Validate successful response",
                  "pm.test('[Google Maps Multi-Stop] Rutas tentativas retrieved successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test: Validate response is an array",
                  "pm.test('[Google Maps Multi-Stop] Response is an array of routes', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.be.an('array');",
                  "    pm.expect(response.length).to.be.above(0);",
                  "});",
                  "",
                  "// Test: Validate route has multiple tramos",
                  "pm.test('[Google Maps Multi-Stop] Route has multiple tramos', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    pm.expect(firstRoute.tramos).to.be.an('array');",
                  "    pm.expect(firstRoute.tramos.length).to.be.above(1);",
                  "});",
                  "",
                  "// Test: Validate Google Maps calculated distances",
                  "pm.test('[Google Maps Multi-Stop] Each tramo has calculated distance', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    firstRoute.tramos.forEach(function(tramo) {",
                  "        pm.expect(tramo.distanciaKm).to.be.above(0);",
                  "        pm.expect(tramo.tiempoEstimadoHoras).to.be.above(0);",
                  "    });",
                  "});",
                  "",
                  "// Test: Validate total distance is sum of tramos",
                  "pm.test('[Google Maps Multi-Stop] Total distance matches sum of tramos', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    let sumDistance = 0;",
                  "    firstRoute.tramos.forEach(function(tramo) {",
                  "        sumDistance += tramo.distanciaKm;",
                  "    });",
                  "    ",
                  "    // Allow small rounding differences",
                  "    pm.expect(firstRoute.distanciaTotal).to.be.closeTo(sumDistance, 1);",
                  "});",
                  "",
                  "// Console logging with detailed multi-stop information",
                  "if (pm.response.code === 200) {",
                  "    const routes = pm.response.json();",
                  "    ",
                  "    console.log('');",
                  "    console.log('🌍 ============================================');",
                  "    console.log('   GOOGLE MAPS API - MULTI-STOP ROUTE');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('✅ Google Maps API calculated multi-stop route!');",
                  "    console.log('   Found ' + routes.length + ' possible route(s) with intermediate stops');",
                  "    console.log('');",
                  "    ",
                  "    routes.forEach(function(route, index) {",
                  "        console.log('📍 Route ' + (index + 1) + ' (Multi-Stop):');",
                  "        console.log('   Total Distance: ' + route.distanciaTotal.toFixed(2) + ' km');",
                  "        console.log('   Estimated Time: ' + route.tiempoEstimadoTotal.toFixed(2) + ' hours');",
                  "        console.log('   Number of Tramos: ' + route.tramos.length);",
                  "        console.log('');",
                  "        ",
                  "        let cumulativeDistance = 0;",
                  "        let cumulativeTime = 0;",
                  "        ",
                  "        route.tramos.forEach(function(tramo) {",
                  "            cumulativeDistance += tramo.distanciaKm;",
                  "            cumulativeTime += tramo.tiempoEstimadoHoras;",
                  "            ",
                  "            console.log('   Tramo ' + tramo.orden + ' (' + tramo.tipo + '):');",
                  "            console.log('      Distance: ' + tramo.distanciaKm.toFixed(2) + ' km');",
                  "            console.log('      Time: ' + tramo.tiempoEstimadoHoras.toFixed(2) + ' hours');",
                  "            console.log('      Cumulative: ' + cumulativeDistance.toFixed(2) + ' km, ' + cumulativeTime.toFixed(2) + ' hours');",
                  "            ",
                  "            if (tramo.tipo === 'ORIGEN-DEPOSITO') {",
                  "                console.log('      📦 Stop at intermediate depot');",
                  "            } else if (tramo.tipo === 'DEPOSITO-DESTINO') {",
                  "                console.log('      🏁 Final leg to destination');",
                  "            }",
                  "            console.log('');",
                  "        });",
                  "    });",
                  "    ",
                  "    console.log('✨ Google Maps successfully calculated multi-stop route!');",
                  "    console.log('   Each tramo distance calculated independently by Google Maps API');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{gmaps_solicitud_id}}/rutas/tentativas?depositoIntermedio={{deposito_id}}",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes",
                "{{gmaps_solicitud_id}}",
                "rutas",
                "tentativas"
              ],
              "query": [
                {
                  "key": "depositoIntermedio",
                  "value": "{{deposito_id}}",
                  "description": "ID del depósito intermedio para crear una ruta multi-tramo"
                }
              ]
            },
            "description": "Obtiene rutas tentativas con un depósito intermedio. Google Maps API calcula la distancia y tiempo para cada tramo independientemente: Origen → Depósito → Destino. Esto demuestra la capacidad del sistema de calcular rutas complejas con múltiples paradas."
          },
          "response": []
        },
        {
          "name": "Verify Distance Calculation",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Test: Validate successful response",
                  "pm.test('[Verification] Rutas tentativas retrieved successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test: CRITICAL - Validate distance > 600km",
                  "pm.test('[Verification] ✅ CRITICAL: Distance is greater than 600 km', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    pm.expect(firstRoute.distanciaTotal).to.be.above(600);",
                  "    ",
                  "    console.log('');",
                  "    console.log('✅ VERIFICATION PASSED: Distance = ' + firstRoute.distanciaTotal.toFixed(2) + ' km (> 600 km)');",
                  "});",
                  "",
                  "// Test: Validate distance is realistic for Cordoba-CABA",
                  "pm.test('[Verification] Distance is realistic for Córdoba-Buenos Aires', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    // Should be between 650-750 km for direct route",
                  "    pm.expect(firstRoute.distanciaTotal).to.be.within(650, 800);",
                  "});",
                  "",
                  "// Test: Validate time is proportional to distance",
                  "pm.test('[Verification] Time is proportional to distance', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    // Average speed should be reasonable (60-100 km/h)",
                  "    const avgSpeed = firstRoute.distanciaTotal / firstRoute.tiempoEstimadoTotal;",
                  "    pm.expect(avgSpeed).to.be.within(60, 100);",
                  "});",
                  "",
                  "// Test: Validate Google Maps API was actually called",
                  "pm.test('[Verification] Google Maps API provided real data', function () {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    // Distance should not be a round number (indicates real API call)",
                  "    const hasDecimals = (firstRoute.distanciaTotal % 1) !== 0;",
                  "    pm.expect(hasDecimals).to.be.true;",
                  "});",
                  "",
                  "// Comprehensive console logging for verification",
                  "if (pm.response.code === 200) {",
                  "    const routes = pm.response.json();",
                  "    const firstRoute = routes[0];",
                  "    ",
                  "    console.log('');",
                  "    console.log('🔍 ============================================');",
                  "    console.log('   GOOGLE MAPS INTEGRATION - VERIFICATION');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "    console.log('📊 Distance Calculation Verification:');",
                  "    console.log('');",
                  "    console.log('   Route: Córdoba → Buenos Aires');",
                  "    console.log('   Expected: ~700 km (direct route)');",
                  "    console.log('   Calculated: ' + firstRoute.distanciaTotal.toFixed(2) + ' km');",
                  "    console.log('');",
                  "    ",
                  "    if (firstRoute.distanciaTotal > 600) {",
                  "        console.log('   ✅ PASS: Distance > 600 km requirement met');",
                  "    } else {",
                  "        console.log('   ❌ FAIL: Distance < 600 km (unexpected)');",
                  "    }",
                  "    ",
                  "    console.log('');",
                  "    console.log('⏱️  Time Calculation Verification:');",
                  "    console.log('');",
                  "    console.log('   Estimated Time: ' + firstRoute.tiempoEstimadoTotal.toFixed(2) + ' hours');",
                  "    ",
                  "    const avgSpeed = firstRoute.distanciaTotal / firstRoute.tiempoEstimadoTotal;",
                  "    console.log('   Average Speed: ' + avgSpeed.toFixed(2) + ' km/h');",
                  "    ",
                  "    if (avgSpeed >= 60 && avgSpeed <= 100) {",
                  "        console.log('   ✅ PASS: Average speed is realistic (60-100 km/h)');",
                  "    } else {",
                  "        console.log('   ⚠️  WARNING: Average speed outside expected range');",
                  "    }",
                  "    ",
                  "    console.log('');",
                  "    console.log('🌍 Google Maps API Integration:');",
                  "    console.log('');",
                  "    console.log('   API Status: ✅ Active and responding');",
                  "    console.log('   Data Quality: ✅ Real-world distances calculated');",
                  "    console.log('   Precision: ' + (firstRoute.distanciaTotal % 1).toFixed(4) + ' (decimal precision indicates real API data)');",
                  "    console.log('');",
                  "    console.log('📋 Detailed Tramo Breakdown:');",
                  "    console.log('');",
                  "    ",
                  "    firstRoute.tramos.forEach(function(tramo) {",
                  "        console.log('   Tramo ' + tramo.orden + ':');",
                  "        console.log('      Type: ' + tramo.tipo);",
                  "        console.log('      Distance: ' + tramo.distanciaKm.toFixed(2) + ' km');",
                  "        console.log('      Time: ' + tramo.tiempoEstimadoHoras.toFixed(2) + ' hours');",
                  "        console.log('      Speed: ' + (tramo.distanciaKm / tramo.tiempoEstimadoHoras).toFixed(2) + ' km/h');",
                  "        console.log('');",
                  "    });",
                  "    ",
                  "    console.log('============================================');",
                  "    console.log('✅ GOOGLE MAPS INTEGRATION VERIFIED');",
                  "    console.log('   All distance calculations are accurate!');",
                  "    console.log('============================================');",
                  "    console.log('');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{gmaps_solicitud_id}}/rutas/tentativas",
              "host": [
                "{{gateway_url}}"
              ],
              "path": [
                "api", "operaciones", "solicitudes",
                "{{gmaps_solicitud_id}}",
                "rutas",
                "tentativas"
              ]
            },
            "description": "Verifica que Google Maps API está calculando correctamente las distancias. Este request incluye tests específicos para validar que la distancia Córdoba-Buenos Aires es mayor a 600 km, confirmando que la integración con Google Maps está funcionando correctamente y no usando cálculos de distancia euclidiana."
          },
          "response": []
        }
      ],
      "description": "Requests para probar la integración con Google Maps Distance Matrix API. Demuestra el cálculo de rutas tentativas con distancias y tiempos reales para rutas directas y con depósitos intermedios. Incluye validación de que las distancias calculadas son realistas (> 600 km para Córdoba-Buenos Aires)."
    },
    {
      "name": "🎯 Demo Flows",
      "item": [
        {
          "name": "Flujo Transportista",
          "item": [
            {
              "name": "Get My Tramos",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('[Transportista] Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test('[Transportista] Response is an array', function () {",
                      "    const tramos = pm.response.json();",
                      "    pm.expect(tramos).to.be.an('array');",
                      "});",
                      "",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('[Transportista] Tramos have required fields', function () {",
                      "        const tramo = pm.response.json()[0];",
                      "        pm.expect(tramo).to.have.property('id');",
                      "        pm.expect(tramo).to.have.property('orden');",
                      "        pm.expect(tramo).to.have.property('estado');",
                      "    });",
                      "    pm.environment.set('demo_tramo_id', pm.response.json()[0].id);",
                      "}",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log('Transportista - Retrieved ' + pm.response.json().length + ' tramos');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/transportistas/{{camion_id}}/tramos",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "transportistas",
                    "{{camion_id}}",
                    "tramos"
                  ]
                },
                "description": "Obtiene todos los tramos asignados a un camión específico. Este endpoint es usado por transportistas para ver sus asignaciones (RF#7)."
              },
              "response": []
            },
            {
              "name": "Iniciar Tramo",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('[Transportista] Tramo iniciado successfully', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test('[Transportista] Estado changed to EN_CURSO', function () {",
                      "    const tramo = pm.response.json();",
                      "    pm.expect(tramo.estado).to.equal('EN_CURSO');",
                      "    pm.expect(tramo).to.have.property('fechaHoraInicio');",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log('Tramo iniciado - Estado: EN_CURSO');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{demo_tramo_id}}/iniciar",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{demo_tramo_id}}",
                    "iniciar"
                  ]
                },
                "description": "Inicia un tramo asignado. El transportista marca el inicio del viaje (RF#8)."
              },
              "response": []
            },
            {
              "name": "Finalizar Tramo",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('[Transportista] Tramo finalizado successfully', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test('[Transportista] Estado changed to FINALIZADO', function () {",
                      "    const tramo = pm.response.json();",
                      "    pm.expect(tramo.estado).to.equal('FINALIZADO');",
                      "    pm.expect(tramo).to.have.property('fechaHoraFin');",
                      "    pm.expect(tramo).to.have.property('costoReal');",
                      "    pm.expect(tramo.costoReal).to.be.above(0);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const tramo = pm.response.json();",
                      "    console.log('Tramo finalizado - Costo Real: $' + tramo.costoReal);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{demo_tramo_id}}/finalizar",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{demo_tramo_id}}",
                    "finalizar"
                  ]
                },
                "description": "Finaliza un tramo en curso. Calcula el costo real basado en la tarifa vigente y el consumo de combustible (RF#8)."
              },
              "response": []
            }
          ],
          "description": "Flujo de trabajo para transportistas. Incluye consulta de tramos asignados, inicio y finalización de tramos."
        },
        {
          "name": "Flujo Operador",
          "item": [
            {
              "name": "Ver Contenedores Pendientes",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('[Operador] Status code is 200', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test('[Operador] Response is an array', function () {",
                      "    const contenedores = pm.response.json();",
                      "    pm.expect(contenedores).to.be.an('array');",
                      "});",
                      "",
                      "if (pm.response.json().length > 0) {",
                      "    pm.test('[Operador] All contenedores are PENDIENTE', function () {",
                      "        const contenedores = pm.response.json();",
                      "        contenedores.forEach(function(cont) {",
                      "            pm.expect(cont.estado).to.equal('PENDIENTE');",
                      "        });",
                      "    });",
                      "}",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log('Operador - Found ' + pm.response.json().length + ' pending contenedores');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/pendientes",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "contenedores",
                    "pendientes"
                  ]
                },
                "description": "Lista todos los contenedores en estado pendiente que necesitan ser procesados (RF#5)."
              },
              "response": []
            },
            {
              "name": "Asignar Ruta",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('[Operador] Ruta asignada successfully', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test('[Operador] Ruta has tramos', function () {",
                      "    const ruta = pm.response.json();",
                      "    pm.expect(ruta).to.have.property('id');",
                      "    pm.expect(ruta).to.have.property('tramos');",
                      "    pm.expect(ruta.tramos).to.be.an('array');",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const ruta = pm.response.json();",
                      "    pm.environment.set('demo_ruta_id', ruta.id);",
                      "    if (ruta.tramos.length > 0) {",
                      "        pm.environment.set('demo_tramo_id', ruta.tramos[0].id);",
                      "    }",
                      "    console.log('Ruta asignada - ID: ' + ruta.id);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"tramos\": [\n    {\n      \"orden\": 1,\n      \"tipo\": \"ORIGEN-DESTINO\",\n      \"latitudInicio\": -31.4201,\n      \"longitudInicio\": -64.1888,\n      \"latitudFin\": -34.6037,\n      \"longitudFin\": -58.3816,\n      \"fechaEstimadaInicio\": \"2024-12-01T08:00:00\",\n      \"fechaEstimadaFin\": \"2024-12-01T18:00:00\"\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/solicitudes/{{solicitud_id}}/asignar-ruta",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "solicitudes",
                    "{{solicitud_id}}",
                    "asignar-ruta"
                  ]
                },
                "description": "Asigna una ruta con tramos a una solicitud. Crea los tramos necesarios para completar el transporte (RF#4)."
              },
              "response": []
            },
            {
              "name": "Asignar Camion",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('[Operador] Camion asignado successfully', function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test('[Operador] Tramo has camion assigned', function () {",
                      "    const tramo = pm.response.json();",
                      "    pm.expect(tramo).to.have.property('camionId');",
                      "    pm.expect(tramo.estado).to.equal('ASIGNADO');",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log('Camion asignado - Estado: ASIGNADO');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"camionId\": {{camion_id}}\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/tramos/{{demo_tramo_id}}/asignar-camion",
                  "host": [
                    "{{gateway_url}}"
                  ],
                  "path": [
                    "api", "operaciones", "tramos",
                    "{{demo_tramo_id}}",
                    "asignar-camion"
                  ]
                },
                "description": "Asigna un camión disponible a un tramo específico (RF#6)."
              },
              "response": []
            }
          ],
          "description": "Flujo de trabajo para operadores. Incluye gestión de contenedores pendientes, asignación de rutas y camiones."
        },
        {
          "name": "Gestión de Flota",
          "item": [
            {
              "name": "GET All Camiones",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "camiones"]
                },
                "description": "Lista todos los camiones registrados."
              },
              "response": []
            },
            {
              "name": "POST Create Camion",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"dominio\": \"DEMO{{$randomInt}}\",\n  \"nombreTransportista\": \"Transportista Demo\",\n  \"telefono\": \"351-1234567\",\n  \"capacidadPeso\": 20000,\n  \"capacidadVolumen\": 40,\n  \"consumoCombustiblePorKm\": 0.35,\n  \"costoPorKm\": 5.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "camiones"]
                },
                "description": "Crea un nuevo camión."
              },
              "response": []
            },
            {
              "name": "PUT Update Camion",
              "request": {
                "method": "PUT",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombreTransportista\": \"Transportista Actualizado\",\n  \"telefono\": \"351-9999999\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones/{{camion_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "camiones", "{{camion_id}}"]
                },
                "description": "Actualiza un camión existente."
              },
              "response": []
            },
            {
              "name": "DELETE Camion",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/camiones/{{camion_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "camiones", "{{camion_id}}"]
                },
                "description": "Elimina un camión."
              },
              "response": []
            },
            {
              "name": "GET All Depositos",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "depositos"]
                },
                "description": "Lista todos los depósitos registrados."
              },
              "response": []
            },
            {
              "name": "POST Create Deposito",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Deposito Demo\",\n  \"direccion\": \"Av. Demo 123\",\n  \"latitud\": -31.4201,\n  \"longitud\": -64.1888,\n  \"costoEstadiaDiaria\": 5000.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "depositos"]
                },
                "description": "Crea un nuevo depósito."
              },
              "response": []
            },
            {
              "name": "PUT Update Deposito",
              "request": {
                "method": "PUT",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Deposito Actualizado\",\n  \"costoEstadiaDiaria\": 5500.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos/{{deposito_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "depositos", "{{deposito_id}}"]
                },
                "description": "Actualiza un depósito existente."
              },
              "response": []
            },
            {
              "name": "DELETE Deposito",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/depositos/{{deposito_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "depositos", "{{deposito_id}}"]
                },
                "description": "Elimina un depósito."
              },
              "response": []
            },
            {
              "name": "GET Tarifa Actual",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas/actual",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "tarifas", "actual"]
                },
                "description": "Obtiene la tarifa actualmente vigente."
              },
              "response": []
            },
            {
              "name": "POST Create Tarifa",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"costoKmBase\": 5.0,\n  \"precioLitroCombustible\": 850.0,\n  \"cargoGestionPorTramo\": 5000.0,\n  \"costoEstadiaDiaria\": 3000.0,\n  \"vigenciaDesde\": \"2020-01-01T00:00:00\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "tarifas"]
                },
                "description": "Crea una nueva tarifa."
              },
              "response": []
            },
            {
              "name": "PUT Update Tarifa",
              "request": {
                "method": "PUT",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"costoKmBase\": 5.5,\n  \"precioLitroCombustible\": 900.0\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/flota/tarifas/{{tarifa_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "flota", "tarifas", "{{tarifa_id}}"]
                },
                "description": "Actualiza una tarifa existente."
              },
              "response": []
            }
          ],
          "description": "CRUD completo para gestión de recursos de flota: camiones, depósitos y tarifas."
        },
        {
          "name": "Gestión de Operaciones",
          "item": [
            {
              "name": "GET All Clientes",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "clientes"]
                },
                "description": "Lista todos los clientes registrados."
              },
              "response": []
            },
            {
              "name": "POST Create Cliente",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Cliente Demo\",\n  \"direccion\": \"Av. Demo 456\",\n  \"cuit\": \"20-{{$randomInt}}-9\",\n  \"telefono\": \"351-7777777\",\n  \"email\": \"demo{{$timestamp}}@test.com\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "clientes"]
                },
                "description": "Crea un nuevo cliente."
              },
              "response": []
            },
            {
              "name": "PUT Update Cliente",
              "request": {
                "method": "PUT",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"nombre\": \"Cliente Actualizado\",\n  \"telefono\": \"351-8888888\"\n}"
                },
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/clientes/{{cliente_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "clientes", "{{cliente_id}}"]
                },
                "description": "Actualiza un cliente existente."
              },
              "response": []
            },
            {
              "name": "GET All Contenedores",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "contenedores"]
                },
                "description": "Lista todos los contenedores registrados."
              },
              "response": []
            },
            {
              "name": "GET Contenedor by ID",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/{{contenedor_id}}",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "contenedores", "{{contenedor_id}}"]
                },
                "description": "Obtiene un contenedor específico por ID."
              },
              "response": []
            },
            {
              "name": "GET Contenedor Estado",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/{{contenedor_id}}/estado",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "contenedores", "{{contenedor_id}}", "estado"]
                },
                "description": "Obtiene el estado actual de un contenedor (RF#2)."
              },
              "response": []
            },
            {
              "name": "GET Contenedores Pendientes",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{gateway_url}}/api/operaciones/contenedores/pendientes",
                  "host": ["{{gateway_url}}"],
                  "path": ["api", "operaciones", "contenedores", "pendientes"]
                },
                "description": "Lista todos los contenedores en estado pendiente (RF#5)."
              },
              "response": []
            }
          ],
          "description": "CRUD completo para gestión de operaciones: clientes y contenedores."
        }
      ],
      "description": "Flujos de demostración organizados por roles y funcionalidades. Incluye flujos específicos para transportistas, operadores, y gestión de recursos."
    }
  ]
}
